/**
 * Fortis APILib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import {
  array,
  expandoObject,
  lazy,
  number,
  optional,
  Schema,
} from '../schema';
import { MerchantList, merchantListSchema } from './merchantList';

/**
 * Additional transaction information in case of multiple transactions or merchants.
 * Available for supporting EMV 3DS 2.3.1 and later versions.
 */
export interface MultiTransaction {
  /** Contains the details of each merchant involved in the transaction */
  merchantList: MerchantList[];
  /** Number of days that the AV (Authentication Value) is valid. */
  avValidityTime?: number;
  /** Number of times that the AV (Authentication Value) is valid. */
  avNumberUse?: number;
  [key: string]: unknown;
}

export const multiTransactionSchema: Schema<MultiTransaction> = expandoObject({
  merchantList: ['merchant_list', array(lazy(() => merchantListSchema))],
  avValidityTime: ['av_validity_time', optional(number())],
  avNumberUse: ['av_number_use', optional(number())],
});
