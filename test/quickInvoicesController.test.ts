/**
 * Fortis APILib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import {
  AccountTypeEnum,
  AchSecCode1Enum,
  AvsEnum,
  CauSubscribeTypeCodeEnum,
  CauSubscribeTypeIdEnum,
  CountryEnum,
  DebitCreditEnum,
  EbtTypeEnum,
  EntryModeIdEnum,
  IiasIndEnum,
  LocationTypeEnum,
  OrderEnum,
  PartnerEnum,
  PaymentMethod9Enum,
  PaymentMethodEnum,
  ProcessMethodEnum,
  ProcessorEnum,
  QuickInvoicesController,
  ReasonCodeId1Enum,
  ReasonModelEnum,
  ReportExportTypeEnum,
  Resource2Enum,
  ResponseQuickInvoice,
  ResponseQuickInvoiceResend,
  ResponseQuickInvoicesCollection,
  StatusCode12Enum,
  StatusCode17Enum,
  StatusCodeEnum,
  StatusIdEnum,
  TaxExemptEnum,
  TaxSurchargeConfigEnum,
  TrxSourceCodeEnum,
  TrxSourceIdEnum,
  Type2Enum,
  Type3Enum,
  Type4Enum,
  Type54Enum,
  Type55Enum,
  Type56Enum,
  Type57Enum,
  UpdateIfExistsEnum,
  UserTypeCodeEnum,
} from '../src';
import { testClient } from './testClient';
import {
  expectHeadersToMatch,
  expectMatchingWithOptions,
  makeApiCall,
} from './testHelper';

describe('QuickInvoicesController', () => {
  let controller : QuickInvoicesController;

  beforeAll(() => {
    controller = new QuickInvoicesController(testClient);
  });

  it('should Test List all quick invoices related', async () => {
    const response = await makeApiCall(
      () => controller.listAllQuickInvoicesRelated(
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined
      )
    );

    expect(response.statusCode).toBe(200);

    const expectedHeaders = { 'Content-Type': ['application/json', true] };

    expectHeadersToMatch(response.headers, expectedHeaders);

    const expected: ResponseQuickInvoicesCollection = {
      type: Type57Enum.QuickInvoicesCollection,
      list: [
        {
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          title: 'My terminal',
          ccProductTransactionId: '11e95f8ec39de8fbdb0a4f1a',
          achProductTransactionId: '11e95f8ec39de8fbdb0a4f1a',
          dueDate: '2021-12-01',
          itemList: [
            {
              name: 'Bread',
              amount: 2015,
            }
          ],
          allowOverpayment: true,
          bankFundedOnlyOverride: true,
          email: 'email@domain.com',
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          contactApiId: 'contact12345',
          quickInvoiceApiId: 'quickinvoice12345',
          customerId: '11e95f8ec39de8fbdb0a4f1a',
          expireDate: '2021-12-01',
          allowPartialPay: true,
          attachFilesToEmail: true,
          sendEmail: true,
          invoiceNumber: 'invoice12345',
          itemHeader: 'Quick invoice header sample',
          itemFooter: 'Thank you',
          amountDue: 245.36,
          notificationEmail: 'email@domain.com',
          statusId: StatusIdEnum.Enum1,
          statusCode: StatusCode12Enum.Enum1,
          note: 'some note',
          notificationDaysBeforeDueDate: 3,
          notificationDaysAfterDueDate: 7,
          notificationOnDueDate: true,
          sendTextToPay: true,
          files: [
            {
              file: {  },
              resourceId: '11e95f8ec39de8fbdb0a4f1a',
              resource: Resource2Enum.Contact,
              productFileId: '11e95f8ec39de8fbdb0a4f1a',
              fileCategoryId: '11e95f8ec39de8fbdb0a4f1a',
              visibilityGroupId: '11e95f8ec39de8fbdb0a4f1a',
              id: '11e95f8ec39de8fbdb0a4f1a',
              createdTs: 1422040992,
              modifiedTs: 1422040992,
              createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            }
          ],
          remainingBalance: 245.36,
          singlePaymentMinAmount: 500,
          singlePaymentMaxAmount: 500000,
          cellPhone: '3339998822',
          tags: [
            {
              locationId: '11e95f8ec39de8fbdb0a4f1a',
              title: 'My terminal',
              id: '11e95f8ec39de8fbdb0a4f1a',
              createdTs: 1422040992,
              modifiedTs: 1422040992,
            }
          ],
          quickInvoiceC1: 'custom-data-1',
          quickInvoiceC2: 'custom-data-2',
          quickInvoiceC3: 'custom-data-3',
          autoReopen: true,
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
          active: true,
          paymentStatusId: 1,
          isActive: true,
          quickInvoiceSetting: {
            locationApiId: '11e95f8ec39de8fbdb0a4f1a',
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            quickInvoiceTemplate: '<html>Template<html>',
            defaultAllowPartialPay: true,
            defaultNotificationOnDueDate: true,
            defaultNotificationDaysAfterDueDate: 7,
            defaultNotificationDaysBeforeDueDate: 3,
            showCustomFields: false,
            id: '11e95f8ec39de8fbdb0a4f1a',
          },
          quickInvoiceViews: [
            {
              id: '11e95f8ec39de8fbdb0a4f1a',
              quickInvoiceId: 'Quick Invoice ID',
              createdTs: 1422040992,
            }
          ],
          location: {
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            accountNumber: '5454545454545454',
            address: {
              city: 'Novi',
              state: 'MI',
              postalCode: '48375',
              country: CountryEnum.US,
            },
            brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
            contactEmailTrxReceiptDefault: true,
            defaultAch: '11e608a7d515f1e093242bb2',
            defaultCc: '11e608a442a5f1e092242dda',
            emailReplyTo: 'email@domain.com',
            fax: '3339998822',
            locationApiId: 'location-111111',
            locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
            locationC1: 'custom 1',
            locationC2: 'custom 2',
            locationC3: 'custom data 3',
            name: 'Sample Company Headquarters',
            officePhone: '2481234567',
            officeExtPhone: '1021021209',
            tz: 'America/New_York',
            parentId: '11e95f8ec39de8fbdb0a4f1a',
            showContactNotes: true,
            showContactFiles: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            locationType: LocationTypeEnum.Merchant,
            ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
          },
          createdUser: {
            accountNumber: '5454545454545454',
            brandingDomainUrl: '{branding_domain_url}',
            cellPhone: '3339998822',
            companyName: 'Fortis Payment Systems, LLC',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            dateOfBirth: '2021-12-01',
            domainId: '11e95f8ec39de8fbdb0a4f1a',
            email: 'email@domain.com',
            emailTrxReceipt: true,
            homePhone: '3339998822',
            firstName: 'John',
            lastName: 'Smith',
            locale: 'en-US',
            officePhone: '3339998822',
            officeExtPhone: '5',
            primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
            requiresNewPassword: 'requires_new_password2',
            termsConditionCode: '20220308',
            tz: 'America/New_York',
            uiPrefs: {
              entryPage: 'dashboard',
              pageSize: 2,
              reportExportType: ReportExportTypeEnum.Csv,
              processMethod: ProcessMethodEnum.VirtualTerminal,
              defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
            },
            username: '{user_name}',
            userApiKey: '234bas8dfn8238f923w2',
            userHashKey: 'user_hash_key6',
            userTypeCode: UserTypeCodeEnum.Enum100,
            password: 'password4',
            zip: '48375',
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            statusCode: StatusCodeEnum.Enum1,
            apiOnly: false,
            isInvitation: false,
            address: {
              city: 'Novi',
              state: 'MI',
              postalCode: '48375',
              country: CountryEnum.US,
            },
            id: '11e95f8ec39de8fbdb0a4f1a',
            status: true,
            loginAttempts: 0,
            lastLoginTs: 1422040992,
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            termsAcceptedTs: 1422040992,
            termsAgreeIp: '192.168.0.10',
            currentDateTime: '2019-03-11T10:38:26-0700',
            currentLogin: 1422040992,
            logApiResponseBodyTs: 1422040992,
          },
          modifiedUser: {
            accountNumber: '5454545454545454',
            brandingDomainUrl: '{branding_domain_url}',
            cellPhone: '3339998822',
            companyName: 'Fortis Payment Systems, LLC',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            dateOfBirth: '2021-12-01',
            domainId: '11e95f8ec39de8fbdb0a4f1a',
            email: 'email@domain.com',
            emailTrxReceipt: true,
            homePhone: '3339998822',
            firstName: 'John',
            lastName: 'Smith',
            locale: 'en-US',
            officePhone: '3339998822',
            officeExtPhone: '5',
            primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
            requiresNewPassword: 'requires_new_password2',
            termsConditionCode: '20220308',
            tz: 'America/New_York',
            uiPrefs: {
              entryPage: 'dashboard',
              pageSize: 2,
              reportExportType: ReportExportTypeEnum.Csv,
              processMethod: ProcessMethodEnum.VirtualTerminal,
              defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
            },
            username: '{user_name}',
            userApiKey: '234bas8dfn8238f923w2',
            userHashKey: 'user_hash_key6',
            userTypeCode: UserTypeCodeEnum.Enum100,
            password: 'password4',
            zip: '48375',
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            statusCode: StatusCodeEnum.Enum1,
            apiOnly: false,
            isInvitation: false,
            address: {
              city: 'Novi',
              state: 'MI',
              postalCode: '48375',
              country: CountryEnum.US,
            },
            id: '11e95f8ec39de8fbdb0a4f1a',
            status: true,
            loginAttempts: 0,
            lastLoginTs: 1422040992,
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            termsAcceptedTs: 1422040992,
            termsAgreeIp: '192.168.0.10',
            currentDateTime: '2019-03-11T10:38:26-0700',
            currentLogin: 1422040992,
            logApiResponseBodyTs: 1422040992,
          },
          changelogs: [
            {
              id: '11e95f8ec39de8fbdb0a4f1a',
              createdTs: 1422040992,
              action: 'CREATE',
              model: 'TransactionRequest',
              modelId: '11ec829598f0d4008be9aba4',
              userId: '11e95f8ec39de8fbdb0a4f1a',
              changelogDetails: [
                {
                  id: '11e95f8ec39de8fbdb0a4f1a',
                  changelogId: '11e95f8ec39de8fbdb0a4f1a',
                  field: 'next_run_ts',
                  oldValue: '1643616000',
                }
              ],
              user: {
                id: '11e95f8ec39de8fbdb0a4f1a',
                username: 'email@domain.com',
                firstName: 'Bob',
                lastName: 'Fairview',
              },
            }
          ],
          contact: {
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            accountNumber: '54545433332',
            contactApiId: '137',
            firstName: 'John',
            lastName: 'Smith',
            cellPhone: '3339998822',
            balance: 245.36,
            address: {
              city: 'Novi',
              state: 'Michigan',
              postalCode: '48375',
              country: CountryEnum.US,
            },
            companyName: 'Fortis Payment Systems, LLC',
            headerMessage: 'This is a sample message for you',
            dateOfBirth: '2021-12-01',
            emailTrxReceipt: true,
            homePhone: '3339998822',
            officePhone: '3339998822',
            officePhoneExt: '5',
            headerMessageType: 0,
            updateIfExists: UpdateIfExistsEnum.Enum1,
            contactC1: 'any',
            contactC2: 'anything',
            contactC3: 'something',
            parentId: '11e95f8ec39de8fbdb0a4f1a',
            email: 'email@domain.com',
            tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            active: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          },
          logEmails: [
            {
              subject: 'Payment Receipt - 12skiestech',
              body: 'This email is being sent from a server.',
              sourceAddress: '"12skiestech A7t3qi" <noreply@zeamster.email>',
              returnPath: '"12skiestech A7t3qi" <noreply@zeamster.email>',
              providerId: '0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-000000',
              domainId: '11e95f8ec39de8fbdb0a4f1a',
              reasonSent: 'Contact Email',
              reasonModel: ReasonModelEnum.Transaction,
              reasonModelId: '11e95f8ec39de8fbdb0a4f1a',
              replyTo: '"Zeamster" <emma.p@zeamster.com>',
              id: '11e95f8ec39de8fbdb0a4f1a',
              createdTs: 1422040992,
            }
          ],
          logSms: {
            id: '11e95f8ec39de8fbdb0a4f1a',
            body: ' ',
            reasonModel: ' ',
            reasonModelId: ' ',
            providerId: ' ',
            status: ' ',
            sender: ' ',
            recipient: ' ',
            createdTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          },
          transactions: [
            {
              additionalAmounts: [
                {
                  type: Type55Enum.Cashback,
                  amount: 10,
                  accountType: AccountTypeEnum.Credit,
                  currency: 840,
                }
              ],
              billingAddress: {
                city: 'Novi',
                state: 'Michigan',
                postalCode: '48375',
                phone: '3339998822',
                country: 'USA',
              },
              checkinDate: '2021-12-01',
              checkoutDate: '2021-12-01',
              clerkNumber: 'AE1234',
              contactId: '11e95f8ec39de8fbdb0a4f1a',
              customData: {  },
              customerId: 'customerid',
              description: 'some description',
              identityVerification: {
                dlState: 'MI',
                dlNumber: '1235567',
                dobYear: '1980',
              },
              iiasInd: IiasIndEnum.Enum1,
              imageFront: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
              imageBack: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
              installment: true,
              installmentNumber: 1,
              installmentCount: 1,
              locationApiId: 'location-api-id-florida-2',
              locationId: '11e95f8ec39de8fbdb0a4f1a',
              productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
              advanceDeposit: false,
              noShow: false,
              notificationEmailAddress: 'johnsmith@smiths.com',
              orderNumber: '433659378839',
              poNumber: '555555553123',
              quickInvoiceId: '11e95f8ec39de8fbdb0a4f1a',
              recurring: false,
              recurringNumber: 1,
              roomNum: '303',
              roomRate: 95,
              saveAccount: false,
              saveAccountTitle: 'John Account',
              subtotalAmount: 599,
              surchargeAmount: 100,
              tags: [
                'Walk-in Customer'
              ],
              tax: 0,
              tipAmount: 0,
              transactionAmount: 0,
              secondaryAmount: 0,
              transactionApiId: 'transaction-payment-abcd123',
              transactionC1: 'custom-data-1',
              transactionC2: 'custom-data-2',
              transactionC3: 'custom-data-3',
              bankFundedOnlyOverride: false,
              allowPartialAuthorizationOverride: false,
              autoDeclineCvvOverride: false,
              autoDeclineStreetOverride: false,
              autoDeclineZipOverride: false,
              ebtType: EbtTypeEnum.FoodStamp,
              id: '11e95f8ec39de8fbdb0a4f1a',
              createdTs: 1422040992,
              modifiedTs: 1422040992,
              terminalId: '11e95f8ec39de8fbdb0a4f1a',
              accountHolderName: 'smith',
              accountType: 'checking',
              tokenId: '11e95f8ec39de8fbdb0a4f1a',
              achIdentifier: 'P',
              achSecCode: AchSecCode1Enum.C21,
              authAmount: 1,
              authCode: 'BR349K',
              avs: AvsEnum.BAD,
              avsEnhanced: 'N',
              cardholderPresent: true,
              cardPresent: true,
              checkNumber: '8520748520963',
              customerIp: '192.168.0.10',
              cvvResponse: 'N',
              entryModeId: EntryModeIdEnum.C,
              emvReceiptData: {
                aID: 'a0000000042203',
                aPPLAB: 'US Maestro',
                aPPN: 'US Maestro',
                cVM: 'Pin Verified',
                tSI: 'e800',
                tVR: '0800008000',
              },
              firstSix: '545454',
              lastFour: '5454',
              paymentMethod: PaymentMethod9Enum.Cc,
              terminalSerialNumber: '1234567890',
              transactionSettlementStatus: 'transaction_settlement_status0',
              chargeBackDate: '2021-12-01',
              isRecurring: true,
              notificationEmailSent: true,
              par: 'Q1J4Z28RKA1EBL470G9XYG90R5D3E',
              reasonCodeId: ReasonCodeId1Enum.Enum1000,
              recurringId: '11e95f8ec39de8fbdb0a4f1a',
              settleDate: '2021-12-01',
              statusCode: StatusCode17Enum.Enum101,
              transactionBatchId: '11e95f8ec39de8fbdb0a4f1a',
              verbiage: 'APPROVED',
              voidDate: '2021-12-01',
              batch: '2',
              termsAgree: true,
              responseMessage: 'response_message2',
              returnDate: '2021-12-01',
              trxSourceId: TrxSourceIdEnum.Enum8,
              routingNumber: '051904524',
              trxSourceCode: TrxSourceCodeEnum.Enum8,
              paylinkId: '11e95f8ec39de8fbdb0a4f1a',
              isAccountvault: true,
              createdUserId: '11e95f8ec39de8fbdb0a4f1a',
              modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
              effectiveDate: '2021-12-01',
              isToken: true,
              installmentTotal: 1,
              installmentCounter: 1,
              accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
              hostedPaymentPageId: '11e95f8ec39de8fbdb0a4f1a',
            }
          ],
          ccProductTransaction: {
            processorVersion: '1_0_0',
            title: 'My terminal',
            paymentMethod: PaymentMethodEnum.Cc,
            processor: ProcessorEnum.Zgate,
            mcc: '1111',
            taxSurchargeConfig: TaxSurchargeConfigEnum.Enum2,
            partner: PartnerEnum.Standalone,
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            surcharge: {  },
            processorData: {  },
            vtClerkNumber: true,
            vtBillingPhone: true,
            vtEnableTip: true,
            achAllowDebit: true,
            achAllowCredit: true,
            achAllowRefund: true,
            vtCvv: true,
            vtStreet: true,
            vtZip: true,
            vtOrderNum: true,
            vtEnable: true,
            receiptShowContactName: true,
            displayAvs: true,
            cardTypeVisa: true,
            cardTypeMc: true,
            cardTypeDisc: true,
            cardTypeAmex: true,
            cardTypeDiners: true,
            cardTypeJcb: true,
            cardTypeEbt: true,
            allowEbtCashBenefit: true,
            allowEbtFoodStamp: true,
            invoiceLocation: true,
            allowPartialAuthorization: true,
            allowRecurringPartialAuthorization: true,
            autoDeclineCvv: true,
            autoDeclineStreet: true,
            autoDeclineZip: true,
            splitPaymentsAllow: true,
            vtShowCustomFields: true,
            receiptShowCustomFields: true,
            vtOverrideSalesTaxAllowed: true,
            vtEnableSalesTax: true,
            vtRequireZip: true,
            vtRequireStreet: true,
            autoDeclineCavv: true,
            currentBatch: 34,
            dupCheckPerBatch: 'dup_check_per_batch8',
            paylinkAllow: false,
            quickInvoiceAllow: false,
            level3Allow: false,
            payfacEnable: false,
            enable3ds: false,
            salesOfficeId: '11e95f8ec39de8fbdb0a4f1a',
            hostedPaymentPageAllow: false,
            surchargeId: '11e95f8ec39de8fbdb0a4f1a',
            allowBigCommerce: false,
            level3Default: {
              destinationCountryCode: '840',
              dutyAmount: 0,
              freightAmount: 0,
              nationalTax: 2,
              salesTax: 200,
              shipfromZipCode: 'AZ12345',
              shiptoZipCode: 'MI48335',
              taxAmount: 0,
              taxExempt: TaxExemptEnum.Enum0,
              customerVatRegistration: '12345678',
              merchantVatRegistration: '123456',
              orderDate: '171006',
              summaryCommodityCode: 'C1K2',
              taxRate: 0,
              uniqueVatRefNumber: 'vat1234',
              lineItems: [
                {
                  alternateTaxId: '1234',
                  debitCredit: DebitCreditEnum.C,
                  description: 'cool drink',
                  discountAmount: 10,
                  discountRate: 11,
                  productCode: 'coke12345678',
                  quantity: 5,
                  taxAmount: 3,
                  taxRate: 0,
                  taxTypeApplied: '22',
                  taxTypeId: 'a1',
                  unitCode: 'gll',
                  unitCost: 10,
                  commodityCode: 'cc123456',
                  otherTaxAmount: 0,
                }
              ],
            },
            cauSubscribeTypeId: CauSubscribeTypeIdEnum.Enum0,
            locationBillingAccountId: '11eb88b873980c64a21e5fd2',
            productBillingGroupId: 'nofees',
            accountNumber: '12345678',
            runAvsOnAccountvaultCreate: false,
            accountvaultExpireNotificationEmailEnable: false,
            debitAllowVoid: false,
            quickInvoiceTextToPay: false,
            smsEnable: false,
            vtShowCurrency: true,
            receiptShowCurrency: false,
            allowBlindRefund: false,
            vtShowCompanyName: false,
            receiptShowCompanyName: false,
            bankFundedOnly: false,
            requireCvvOnKeyedCnp: true,
            requireCvvOnTokenizedCnp: true,
            showSecondaryAmount: false,
            allowSecondaryAmount: false,
            showGooglePay: true,
            showApplePay: true,
            batchRiskConfig: {
            },
            currencyCode: 840,
            enableAchValidation: false,
            enableAchRetry: false,
            id: '11e95f8ec39de8fbdb0a4f1a',
            active: true,
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
            productTransactionApiId: '11e95f8ec39de8fbdb0a4f1a',
            isSecondaryAmountAllowed: false,
            fortisId: '8149742',
            productBillingGroupCode: 'nofees',
            cauSubscribeTypeCode: CauSubscribeTypeCodeEnum.Enum0,
          },
          achProductTransaction: {
            processorVersion: '1_0_0',
            title: 'My terminal',
            paymentMethod: PaymentMethodEnum.Cc,
            processor: ProcessorEnum.Zgate,
            mcc: '1111',
            taxSurchargeConfig: TaxSurchargeConfigEnum.Enum2,
            partner: PartnerEnum.Standalone,
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            surcharge: {  },
            processorData: {  },
            vtClerkNumber: true,
            vtBillingPhone: true,
            vtEnableTip: true,
            achAllowDebit: true,
            achAllowCredit: true,
            achAllowRefund: true,
            vtCvv: true,
            vtStreet: true,
            vtZip: true,
            vtOrderNum: true,
            vtEnable: true,
            receiptShowContactName: true,
            displayAvs: true,
            cardTypeVisa: true,
            cardTypeMc: true,
            cardTypeDisc: true,
            cardTypeAmex: true,
            cardTypeDiners: true,
            cardTypeJcb: true,
            cardTypeEbt: true,
            allowEbtCashBenefit: true,
            allowEbtFoodStamp: true,
            invoiceLocation: true,
            allowPartialAuthorization: true,
            allowRecurringPartialAuthorization: true,
            autoDeclineCvv: true,
            autoDeclineStreet: true,
            autoDeclineZip: true,
            splitPaymentsAllow: true,
            vtShowCustomFields: true,
            receiptShowCustomFields: true,
            vtOverrideSalesTaxAllowed: true,
            vtEnableSalesTax: true,
            vtRequireZip: true,
            vtRequireStreet: true,
            autoDeclineCavv: true,
            currentBatch: 34,
            dupCheckPerBatch: 'dup_check_per_batch8',
            paylinkAllow: false,
            quickInvoiceAllow: false,
            level3Allow: false,
            payfacEnable: false,
            enable3ds: false,
            salesOfficeId: '11e95f8ec39de8fbdb0a4f1a',
            hostedPaymentPageAllow: false,
            surchargeId: '11e95f8ec39de8fbdb0a4f1a',
            allowBigCommerce: false,
            level3Default: {
              destinationCountryCode: '840',
              dutyAmount: 0,
              freightAmount: 0,
              nationalTax: 2,
              salesTax: 200,
              shipfromZipCode: 'AZ12345',
              shiptoZipCode: 'MI48335',
              taxAmount: 0,
              taxExempt: TaxExemptEnum.Enum0,
              customerVatRegistration: '12345678',
              merchantVatRegistration: '123456',
              orderDate: '171006',
              summaryCommodityCode: 'C1K2',
              taxRate: 0,
              uniqueVatRefNumber: 'vat1234',
              lineItems: [
                {
                  alternateTaxId: '1234',
                  debitCredit: DebitCreditEnum.C,
                  description: 'cool drink',
                  discountAmount: 10,
                  discountRate: 11,
                  productCode: 'coke12345678',
                  quantity: 5,
                  taxAmount: 3,
                  taxRate: 0,
                  taxTypeApplied: '22',
                  taxTypeId: 'a1',
                  unitCode: 'gll',
                  unitCost: 10,
                  commodityCode: 'cc123456',
                  otherTaxAmount: 0,
                }
              ],
            },
            cauSubscribeTypeId: CauSubscribeTypeIdEnum.Enum0,
            locationBillingAccountId: '11eb88b873980c64a21e5fd2',
            productBillingGroupId: 'nofees',
            accountNumber: '12345678',
            runAvsOnAccountvaultCreate: false,
            accountvaultExpireNotificationEmailEnable: false,
            debitAllowVoid: false,
            quickInvoiceTextToPay: false,
            smsEnable: false,
            vtShowCurrency: true,
            receiptShowCurrency: false,
            allowBlindRefund: false,
            vtShowCompanyName: false,
            receiptShowCompanyName: false,
            bankFundedOnly: false,
            requireCvvOnKeyedCnp: true,
            requireCvvOnTokenizedCnp: true,
            showSecondaryAmount: false,
            allowSecondaryAmount: false,
            showGooglePay: true,
            showApplePay: true,
            batchRiskConfig: {
            },
            currencyCode: 840,
            enableAchValidation: false,
            enableAchRetry: false,
            id: '11e95f8ec39de8fbdb0a4f1a',
            active: true,
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
            productTransactionApiId: '11e95f8ec39de8fbdb0a4f1a',
            isSecondaryAmountAllowed: false,
            fortisId: '8149742',
            productBillingGroupCode: 'nofees',
            cauSubscribeTypeCode: CauSubscribeTypeCodeEnum.Enum0,
          },
          emailBlacklist: {
            id: '11e95f8ec39de8fbdb0a4f1a',
            isBlacklisted: true,
            detail: true,
            createdTs: 1422040992,
          },
          smsBlacklist: {
            id: '11e95f8ec39de8fbdb0a4f1a',
            isBlacklisted: true,
            detail: true,
            createdTs: 1422040992,
          },
        }
      ],
      links: {
        type: Type2Enum.Links,
        first: '/v1/endpoint?page[size]=10&page[number]=1',
        previous: '/v1/endpoint?page[size]=10&page[number]=5',
        next: '/v1/endpoint?page[size]=10&page[number]=7',
        last: '/v1/endpoint?page[size]=10&page[number]=42',
      },
      pagination: {
        type: Type3Enum.Pagination,
        totalCount: 423,
        pageCount: 42,
        pageNumber: 6,
        pageSize: 10,
      },
      sort: {
        type: Type4Enum.Sorting,
        fields: [
          {
            field: 'last_name',
            order: OrderEnum.Asc,
          }
        ],
      },
    };

    expect(response.result).not.toBeNull();
    expectMatchingWithOptions(
      expected,
      response.result,
      { allowExtra: true, isOrdered: false, checkValues: false }
    );
  });

  it('should Test Resend', async () => {
    const quickInvoiceId = '11e95f8ec39de8fbdb0a4f1a';

    const response = await makeApiCall(
      () => controller.resend(quickInvoiceId, undefined, undefined, undefined)
    );

    expect(response.statusCode).toBe(201);

    const expectedHeaders = { 'Content-Type': ['application/json', true] };

    expectHeadersToMatch(response.headers, expectedHeaders);

    const expected: ResponseQuickInvoiceResend = {
      type: Type56Enum.QuickInvoiceResend,
      data: {
        id: '11e95f8ec39de8fbdb0a4f1a',
        emailLogId: '11e95f8ec39de8fbdb0a4f1a',
        smsLogId: '11e95f8ec39de8fbdb0a4f1a',
        success: true,
        smsSuccess: true,
        email: 'email@domain.com',
      },
    };

    expect(response.result).not.toBeNull();
    expectMatchingWithOptions(
      expected,
      response.result,
      { allowExtra: true, isOrdered: false, checkValues: false }
    );
  });

  it('should Test Delete quick Invoice', async () => {
    const quickInvoiceId = '11e95f8ec39de8fbdb0a4f1a';

    const response = await makeApiCall(
      () => controller.deleteQuickInvoice(quickInvoiceId)
    );

    expect(response.statusCode).toBe(204);

    const expectedHeaders = { 'Content-Type': ['application/json', true] };

    expectHeadersToMatch(response.headers, expectedHeaders);

    const expected: ResponseQuickInvoice = {
      type: Type54Enum.QuickInvoice,
      data: {
        locationId: '11e95f8ec39de8fbdb0a4f1a',
        title: 'My terminal',
        ccProductTransactionId: '11e95f8ec39de8fbdb0a4f1a',
        achProductTransactionId: '11e95f8ec39de8fbdb0a4f1a',
        dueDate: '2021-12-01',
        itemList: [
          {
            name: 'Bread',
            amount: 2015,
          }
        ],
        allowOverpayment: true,
        bankFundedOnlyOverride: true,
        email: 'email@domain.com',
        contactId: '11e95f8ec39de8fbdb0a4f1a',
        contactApiId: 'contact12345',
        quickInvoiceApiId: 'quickinvoice12345',
        customerId: '11e95f8ec39de8fbdb0a4f1a',
        expireDate: '2021-12-01',
        allowPartialPay: true,
        attachFilesToEmail: true,
        sendEmail: true,
        invoiceNumber: 'invoice12345',
        itemHeader: 'Quick invoice header sample',
        itemFooter: 'Thank you',
        amountDue: 245.36,
        notificationEmail: 'email@domain.com',
        statusId: StatusIdEnum.Enum1,
        statusCode: StatusCode12Enum.Enum1,
        note: 'some note',
        notificationDaysBeforeDueDate: 3,
        notificationDaysAfterDueDate: 7,
        notificationOnDueDate: true,
        sendTextToPay: true,
        files: [
          {
            file: {  },
            resourceId: '11e95f8ec39de8fbdb0a4f1a',
            resource: Resource2Enum.Contact,
            productFileId: '11e95f8ec39de8fbdb0a4f1a',
            fileCategoryId: '11e95f8ec39de8fbdb0a4f1a',
            visibilityGroupId: '11e95f8ec39de8fbdb0a4f1a',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        remainingBalance: 245.36,
        singlePaymentMinAmount: 500,
        singlePaymentMaxAmount: 500000,
        cellPhone: '3339998822',
        tags: [
          {
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            title: 'My terminal',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
          }
        ],
        quickInvoiceC1: 'custom-data-1',
        quickInvoiceC2: 'custom-data-2',
        quickInvoiceC3: 'custom-data-3',
        autoReopen: true,
        id: '11e95f8ec39de8fbdb0a4f1a',
        createdTs: 1422040992,
        modifiedTs: 1422040992,
        createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
        active: true,
        paymentStatusId: 1,
        isActive: true,
        quickInvoiceSetting: {
          locationApiId: '11e95f8ec39de8fbdb0a4f1a',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          quickInvoiceTemplate: '<html>Template<html>',
          defaultAllowPartialPay: true,
          defaultNotificationOnDueDate: true,
          defaultNotificationDaysAfterDueDate: 7,
          defaultNotificationDaysBeforeDueDate: 3,
          showCustomFields: false,
          id: '11e95f8ec39de8fbdb0a4f1a',
        },
        quickInvoiceViews: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            quickInvoiceId: 'Quick Invoice ID',
            createdTs: 1422040992,
          }
        ],
        location: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          accountNumber: '5454545454545454',
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
          contactEmailTrxReceiptDefault: true,
          defaultAch: '11e608a7d515f1e093242bb2',
          defaultCc: '11e608a442a5f1e092242dda',
          emailReplyTo: 'email@domain.com',
          fax: '3339998822',
          locationApiId: 'location-111111',
          locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
          locationC1: 'custom 1',
          locationC2: 'custom 2',
          locationC3: 'custom data 3',
          name: 'Sample Company Headquarters',
          officePhone: '2481234567',
          officeExtPhone: '1021021209',
          tz: 'America/New_York',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          showContactNotes: true,
          showContactFiles: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          locationType: LocationTypeEnum.Merchant,
          ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
        },
        createdUser: {
          accountNumber: '5454545454545454',
          brandingDomainUrl: '{branding_domain_url}',
          cellPhone: '3339998822',
          companyName: 'Fortis Payment Systems, LLC',
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          dateOfBirth: '2021-12-01',
          domainId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          firstName: 'John',
          lastName: 'Smith',
          locale: 'en-US',
          officePhone: '3339998822',
          officeExtPhone: '5',
          primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
          requiresNewPassword: 'requires_new_password2',
          termsConditionCode: '20220308',
          tz: 'America/New_York',
          uiPrefs: {
            entryPage: 'dashboard',
            pageSize: 2,
            reportExportType: ReportExportTypeEnum.Csv,
            processMethod: ProcessMethodEnum.VirtualTerminal,
            defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
          },
          username: '{user_name}',
          userApiKey: '234bas8dfn8238f923w2',
          userHashKey: 'user_hash_key6',
          userTypeCode: UserTypeCodeEnum.Enum100,
          password: 'password4',
          zip: '48375',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          statusCode: StatusCodeEnum.Enum1,
          apiOnly: false,
          isInvitation: false,
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          id: '11e95f8ec39de8fbdb0a4f1a',
          status: true,
          loginAttempts: 0,
          lastLoginTs: 1422040992,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          termsAcceptedTs: 1422040992,
          termsAgreeIp: '192.168.0.10',
          currentDateTime: '2019-03-11T10:38:26-0700',
          currentLogin: 1422040992,
          logApiResponseBodyTs: 1422040992,
        },
        modifiedUser: {
          accountNumber: '5454545454545454',
          brandingDomainUrl: '{branding_domain_url}',
          cellPhone: '3339998822',
          companyName: 'Fortis Payment Systems, LLC',
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          dateOfBirth: '2021-12-01',
          domainId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          firstName: 'John',
          lastName: 'Smith',
          locale: 'en-US',
          officePhone: '3339998822',
          officeExtPhone: '5',
          primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
          requiresNewPassword: 'requires_new_password2',
          termsConditionCode: '20220308',
          tz: 'America/New_York',
          uiPrefs: {
            entryPage: 'dashboard',
            pageSize: 2,
            reportExportType: ReportExportTypeEnum.Csv,
            processMethod: ProcessMethodEnum.VirtualTerminal,
            defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
          },
          username: '{user_name}',
          userApiKey: '234bas8dfn8238f923w2',
          userHashKey: 'user_hash_key6',
          userTypeCode: UserTypeCodeEnum.Enum100,
          password: 'password4',
          zip: '48375',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          statusCode: StatusCodeEnum.Enum1,
          apiOnly: false,
          isInvitation: false,
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          id: '11e95f8ec39de8fbdb0a4f1a',
          status: true,
          loginAttempts: 0,
          lastLoginTs: 1422040992,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          termsAcceptedTs: 1422040992,
          termsAgreeIp: '192.168.0.10',
          currentDateTime: '2019-03-11T10:38:26-0700',
          currentLogin: 1422040992,
          logApiResponseBodyTs: 1422040992,
        },
        changelogs: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            action: 'CREATE',
            model: 'TransactionRequest',
            modelId: '11ec829598f0d4008be9aba4',
            userId: '11e95f8ec39de8fbdb0a4f1a',
            changelogDetails: [
              {
                id: '11e95f8ec39de8fbdb0a4f1a',
                changelogId: '11e95f8ec39de8fbdb0a4f1a',
                field: 'next_run_ts',
                oldValue: '1643616000',
              }
            ],
            user: {
              id: '11e95f8ec39de8fbdb0a4f1a',
              username: 'email@domain.com',
              firstName: 'Bob',
              lastName: 'Fairview',
            },
          }
        ],
        contact: {
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          accountNumber: '54545433332',
          contactApiId: '137',
          firstName: 'John',
          lastName: 'Smith',
          cellPhone: '3339998822',
          balance: 245.36,
          address: {
            city: 'Novi',
            state: 'Michigan',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          companyName: 'Fortis Payment Systems, LLC',
          headerMessage: 'This is a sample message for you',
          dateOfBirth: '2021-12-01',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          officePhone: '3339998822',
          officePhoneExt: '5',
          headerMessageType: 0,
          updateIfExists: UpdateIfExistsEnum.Enum1,
          contactC1: 'any',
          contactC2: 'anything',
          contactC3: 'something',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          active: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        },
        logEmails: [
          {
            subject: 'Payment Receipt - 12skiestech',
            body: 'This email is being sent from a server.',
            sourceAddress: '"12skiestech A7t3qi" <noreply@zeamster.email>',
            returnPath: '"12skiestech A7t3qi" <noreply@zeamster.email>',
            providerId: '0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-000000',
            domainId: '11e95f8ec39de8fbdb0a4f1a',
            reasonSent: 'Contact Email',
            reasonModel: ReasonModelEnum.Transaction,
            reasonModelId: '11e95f8ec39de8fbdb0a4f1a',
            replyTo: '"Zeamster" <emma.p@zeamster.com>',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
          }
        ],
        logSms: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          body: ' ',
          reasonModel: ' ',
          reasonModelId: ' ',
          providerId: ' ',
          status: ' ',
          sender: ' ',
          recipient: ' ',
          createdTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        },
        transactions: [
          {
            additionalAmounts: [
              {
                type: Type55Enum.Cashback,
                amount: 10,
                accountType: AccountTypeEnum.Credit,
                currency: 840,
              }
            ],
            billingAddress: {
              city: 'Novi',
              state: 'Michigan',
              postalCode: '48375',
              phone: '3339998822',
              country: 'USA',
            },
            checkinDate: '2021-12-01',
            checkoutDate: '2021-12-01',
            clerkNumber: 'AE1234',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            customData: {  },
            customerId: 'customerid',
            description: 'some description',
            identityVerification: {
              dlState: 'MI',
              dlNumber: '1235567',
              dobYear: '1980',
            },
            iiasInd: IiasIndEnum.Enum1,
            imageFront: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            imageBack: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            installment: true,
            installmentNumber: 1,
            installmentCount: 1,
            locationApiId: 'location-api-id-florida-2',
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
            advanceDeposit: false,
            noShow: false,
            notificationEmailAddress: 'johnsmith@smiths.com',
            orderNumber: '433659378839',
            poNumber: '555555553123',
            quickInvoiceId: '11e95f8ec39de8fbdb0a4f1a',
            recurring: false,
            recurringNumber: 1,
            roomNum: '303',
            roomRate: 95,
            saveAccount: false,
            saveAccountTitle: 'John Account',
            subtotalAmount: 599,
            surchargeAmount: 100,
            tags: [
              'Walk-in Customer'
            ],
            tax: 0,
            tipAmount: 0,
            transactionAmount: 0,
            secondaryAmount: 0,
            transactionApiId: 'transaction-payment-abcd123',
            transactionC1: 'custom-data-1',
            transactionC2: 'custom-data-2',
            transactionC3: 'custom-data-3',
            bankFundedOnlyOverride: false,
            allowPartialAuthorizationOverride: false,
            autoDeclineCvvOverride: false,
            autoDeclineStreetOverride: false,
            autoDeclineZipOverride: false,
            ebtType: EbtTypeEnum.FoodStamp,
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            terminalId: '11e95f8ec39de8fbdb0a4f1a',
            accountHolderName: 'smith',
            accountType: 'checking',
            tokenId: '11e95f8ec39de8fbdb0a4f1a',
            achIdentifier: 'P',
            achSecCode: AchSecCode1Enum.C21,
            authAmount: 1,
            authCode: 'BR349K',
            avs: AvsEnum.BAD,
            avsEnhanced: 'N',
            cardholderPresent: true,
            cardPresent: true,
            checkNumber: '8520748520963',
            customerIp: '192.168.0.10',
            cvvResponse: 'N',
            entryModeId: EntryModeIdEnum.C,
            emvReceiptData: {
              aID: 'a0000000042203',
              aPPLAB: 'US Maestro',
              aPPN: 'US Maestro',
              cVM: 'Pin Verified',
              tSI: 'e800',
              tVR: '0800008000',
            },
            firstSix: '545454',
            lastFour: '5454',
            paymentMethod: PaymentMethod9Enum.Cc,
            terminalSerialNumber: '1234567890',
            transactionSettlementStatus: 'transaction_settlement_status0',
            chargeBackDate: '2021-12-01',
            isRecurring: true,
            notificationEmailSent: true,
            par: 'Q1J4Z28RKA1EBL470G9XYG90R5D3E',
            reasonCodeId: ReasonCodeId1Enum.Enum1000,
            recurringId: '11e95f8ec39de8fbdb0a4f1a',
            settleDate: '2021-12-01',
            statusCode: StatusCode17Enum.Enum101,
            transactionBatchId: '11e95f8ec39de8fbdb0a4f1a',
            verbiage: 'APPROVED',
            voidDate: '2021-12-01',
            batch: '2',
            termsAgree: true,
            responseMessage: 'response_message2',
            returnDate: '2021-12-01',
            trxSourceId: TrxSourceIdEnum.Enum8,
            routingNumber: '051904524',
            trxSourceCode: TrxSourceCodeEnum.Enum8,
            paylinkId: '11e95f8ec39de8fbdb0a4f1a',
            isAccountvault: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
            effectiveDate: '2021-12-01',
            isToken: true,
            installmentTotal: 1,
            installmentCounter: 1,
            accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
            hostedPaymentPageId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        ccProductTransaction: {
          processorVersion: '1_0_0',
          title: 'My terminal',
          paymentMethod: PaymentMethodEnum.Cc,
          processor: ProcessorEnum.Zgate,
          mcc: '1111',
          taxSurchargeConfig: TaxSurchargeConfigEnum.Enum2,
          partner: PartnerEnum.Standalone,
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          surcharge: {  },
          processorData: {  },
          vtClerkNumber: true,
          vtBillingPhone: true,
          vtEnableTip: true,
          achAllowDebit: true,
          achAllowCredit: true,
          achAllowRefund: true,
          vtCvv: true,
          vtStreet: true,
          vtZip: true,
          vtOrderNum: true,
          vtEnable: true,
          receiptShowContactName: true,
          displayAvs: true,
          cardTypeVisa: true,
          cardTypeMc: true,
          cardTypeDisc: true,
          cardTypeAmex: true,
          cardTypeDiners: true,
          cardTypeJcb: true,
          cardTypeEbt: true,
          allowEbtCashBenefit: true,
          allowEbtFoodStamp: true,
          invoiceLocation: true,
          allowPartialAuthorization: true,
          allowRecurringPartialAuthorization: true,
          autoDeclineCvv: true,
          autoDeclineStreet: true,
          autoDeclineZip: true,
          splitPaymentsAllow: true,
          vtShowCustomFields: true,
          receiptShowCustomFields: true,
          vtOverrideSalesTaxAllowed: true,
          vtEnableSalesTax: true,
          vtRequireZip: true,
          vtRequireStreet: true,
          autoDeclineCavv: true,
          currentBatch: 34,
          dupCheckPerBatch: 'dup_check_per_batch8',
          paylinkAllow: false,
          quickInvoiceAllow: false,
          level3Allow: false,
          payfacEnable: false,
          enable3ds: false,
          salesOfficeId: '11e95f8ec39de8fbdb0a4f1a',
          hostedPaymentPageAllow: false,
          surchargeId: '11e95f8ec39de8fbdb0a4f1a',
          allowBigCommerce: false,
          level3Default: {
            destinationCountryCode: '840',
            dutyAmount: 0,
            freightAmount: 0,
            nationalTax: 2,
            salesTax: 200,
            shipfromZipCode: 'AZ12345',
            shiptoZipCode: 'MI48335',
            taxAmount: 0,
            taxExempt: TaxExemptEnum.Enum0,
            customerVatRegistration: '12345678',
            merchantVatRegistration: '123456',
            orderDate: '171006',
            summaryCommodityCode: 'C1K2',
            taxRate: 0,
            uniqueVatRefNumber: 'vat1234',
            lineItems: [
              {
                alternateTaxId: '1234',
                debitCredit: DebitCreditEnum.C,
                description: 'cool drink',
                discountAmount: 10,
                discountRate: 11,
                productCode: 'coke12345678',
                quantity: 5,
                taxAmount: 3,
                taxRate: 0,
                taxTypeApplied: '22',
                taxTypeId: 'a1',
                unitCode: 'gll',
                unitCost: 10,
                commodityCode: 'cc123456',
                otherTaxAmount: 0,
              }
            ],
          },
          cauSubscribeTypeId: CauSubscribeTypeIdEnum.Enum0,
          locationBillingAccountId: '11eb88b873980c64a21e5fd2',
          productBillingGroupId: 'nofees',
          accountNumber: '12345678',
          runAvsOnAccountvaultCreate: false,
          accountvaultExpireNotificationEmailEnable: false,
          debitAllowVoid: false,
          quickInvoiceTextToPay: false,
          smsEnable: false,
          vtShowCurrency: true,
          receiptShowCurrency: false,
          allowBlindRefund: false,
          vtShowCompanyName: false,
          receiptShowCompanyName: false,
          bankFundedOnly: false,
          requireCvvOnKeyedCnp: true,
          requireCvvOnTokenizedCnp: true,
          showSecondaryAmount: false,
          allowSecondaryAmount: false,
          showGooglePay: true,
          showApplePay: true,
          batchRiskConfig: {
          },
          currencyCode: 840,
          enableAchValidation: false,
          enableAchRetry: false,
          id: '11e95f8ec39de8fbdb0a4f1a',
          active: true,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
          productTransactionApiId: '11e95f8ec39de8fbdb0a4f1a',
          isSecondaryAmountAllowed: false,
          fortisId: '8149742',
          productBillingGroupCode: 'nofees',
          cauSubscribeTypeCode: CauSubscribeTypeCodeEnum.Enum0,
        },
        achProductTransaction: {
          processorVersion: '1_0_0',
          title: 'My terminal',
          paymentMethod: PaymentMethodEnum.Cc,
          processor: ProcessorEnum.Zgate,
          mcc: '1111',
          taxSurchargeConfig: TaxSurchargeConfigEnum.Enum2,
          partner: PartnerEnum.Standalone,
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          surcharge: {  },
          processorData: {  },
          vtClerkNumber: true,
          vtBillingPhone: true,
          vtEnableTip: true,
          achAllowDebit: true,
          achAllowCredit: true,
          achAllowRefund: true,
          vtCvv: true,
          vtStreet: true,
          vtZip: true,
          vtOrderNum: true,
          vtEnable: true,
          receiptShowContactName: true,
          displayAvs: true,
          cardTypeVisa: true,
          cardTypeMc: true,
          cardTypeDisc: true,
          cardTypeAmex: true,
          cardTypeDiners: true,
          cardTypeJcb: true,
          cardTypeEbt: true,
          allowEbtCashBenefit: true,
          allowEbtFoodStamp: true,
          invoiceLocation: true,
          allowPartialAuthorization: true,
          allowRecurringPartialAuthorization: true,
          autoDeclineCvv: true,
          autoDeclineStreet: true,
          autoDeclineZip: true,
          splitPaymentsAllow: true,
          vtShowCustomFields: true,
          receiptShowCustomFields: true,
          vtOverrideSalesTaxAllowed: true,
          vtEnableSalesTax: true,
          vtRequireZip: true,
          vtRequireStreet: true,
          autoDeclineCavv: true,
          currentBatch: 34,
          dupCheckPerBatch: 'dup_check_per_batch8',
          paylinkAllow: false,
          quickInvoiceAllow: false,
          level3Allow: false,
          payfacEnable: false,
          enable3ds: false,
          salesOfficeId: '11e95f8ec39de8fbdb0a4f1a',
          hostedPaymentPageAllow: false,
          surchargeId: '11e95f8ec39de8fbdb0a4f1a',
          allowBigCommerce: false,
          level3Default: {
            destinationCountryCode: '840',
            dutyAmount: 0,
            freightAmount: 0,
            nationalTax: 2,
            salesTax: 200,
            shipfromZipCode: 'AZ12345',
            shiptoZipCode: 'MI48335',
            taxAmount: 0,
            taxExempt: TaxExemptEnum.Enum0,
            customerVatRegistration: '12345678',
            merchantVatRegistration: '123456',
            orderDate: '171006',
            summaryCommodityCode: 'C1K2',
            taxRate: 0,
            uniqueVatRefNumber: 'vat1234',
            lineItems: [
              {
                alternateTaxId: '1234',
                debitCredit: DebitCreditEnum.C,
                description: 'cool drink',
                discountAmount: 10,
                discountRate: 11,
                productCode: 'coke12345678',
                quantity: 5,
                taxAmount: 3,
                taxRate: 0,
                taxTypeApplied: '22',
                taxTypeId: 'a1',
                unitCode: 'gll',
                unitCost: 10,
                commodityCode: 'cc123456',
                otherTaxAmount: 0,
              }
            ],
          },
          cauSubscribeTypeId: CauSubscribeTypeIdEnum.Enum0,
          locationBillingAccountId: '11eb88b873980c64a21e5fd2',
          productBillingGroupId: 'nofees',
          accountNumber: '12345678',
          runAvsOnAccountvaultCreate: false,
          accountvaultExpireNotificationEmailEnable: false,
          debitAllowVoid: false,
          quickInvoiceTextToPay: false,
          smsEnable: false,
          vtShowCurrency: true,
          receiptShowCurrency: false,
          allowBlindRefund: false,
          vtShowCompanyName: false,
          receiptShowCompanyName: false,
          bankFundedOnly: false,
          requireCvvOnKeyedCnp: true,
          requireCvvOnTokenizedCnp: true,
          showSecondaryAmount: false,
          allowSecondaryAmount: false,
          showGooglePay: true,
          showApplePay: true,
          batchRiskConfig: {
          },
          currencyCode: 840,
          enableAchValidation: false,
          enableAchRetry: false,
          id: '11e95f8ec39de8fbdb0a4f1a',
          active: true,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
          productTransactionApiId: '11e95f8ec39de8fbdb0a4f1a',
          isSecondaryAmountAllowed: false,
          fortisId: '8149742',
          productBillingGroupCode: 'nofees',
          cauSubscribeTypeCode: CauSubscribeTypeCodeEnum.Enum0,
        },
        emailBlacklist: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          isBlacklisted: true,
          detail: true,
          createdTs: 1422040992,
        },
        smsBlacklist: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          isBlacklisted: true,
          detail: true,
          createdTs: 1422040992,
        },
      },
    };

    expect(response.result).not.toBeNull();
    expectMatchingWithOptions(
      expected,
      response.result,
      { allowExtra: true, isOrdered: false, checkValues: false }
    );
  });

  it('should Test View single quick invoice record', async () => {
    const quickInvoiceId = '11e95f8ec39de8fbdb0a4f1a';

    const response = await makeApiCall(
      () => controller.viewSingleQuickInvoiceRecord(
        quickInvoiceId,
        undefined,
        undefined
      )
    );

    expect(response.statusCode).toBe(200);

    const expectedHeaders = { 'Content-Type': ['application/json', true] };

    expectHeadersToMatch(response.headers, expectedHeaders);

    const expected: ResponseQuickInvoice = {
      type: Type54Enum.QuickInvoice,
      data: {
        locationId: '11e95f8ec39de8fbdb0a4f1a',
        title: 'My terminal',
        ccProductTransactionId: '11e95f8ec39de8fbdb0a4f1a',
        achProductTransactionId: '11e95f8ec39de8fbdb0a4f1a',
        dueDate: '2021-12-01',
        itemList: [
          {
            name: 'Bread',
            amount: 2015,
          }
        ],
        allowOverpayment: true,
        bankFundedOnlyOverride: true,
        email: 'email@domain.com',
        contactId: '11e95f8ec39de8fbdb0a4f1a',
        contactApiId: 'contact12345',
        quickInvoiceApiId: 'quickinvoice12345',
        customerId: '11e95f8ec39de8fbdb0a4f1a',
        expireDate: '2021-12-01',
        allowPartialPay: true,
        attachFilesToEmail: true,
        sendEmail: true,
        invoiceNumber: 'invoice12345',
        itemHeader: 'Quick invoice header sample',
        itemFooter: 'Thank you',
        amountDue: 245.36,
        notificationEmail: 'email@domain.com',
        statusId: StatusIdEnum.Enum1,
        statusCode: StatusCode12Enum.Enum1,
        note: 'some note',
        notificationDaysBeforeDueDate: 3,
        notificationDaysAfterDueDate: 7,
        notificationOnDueDate: true,
        sendTextToPay: true,
        files: [
          {
            file: {  },
            resourceId: '11e95f8ec39de8fbdb0a4f1a',
            resource: Resource2Enum.Contact,
            productFileId: '11e95f8ec39de8fbdb0a4f1a',
            fileCategoryId: '11e95f8ec39de8fbdb0a4f1a',
            visibilityGroupId: '11e95f8ec39de8fbdb0a4f1a',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        remainingBalance: 245.36,
        singlePaymentMinAmount: 500,
        singlePaymentMaxAmount: 500000,
        cellPhone: '3339998822',
        tags: [
          {
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            title: 'My terminal',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
          }
        ],
        quickInvoiceC1: 'custom-data-1',
        quickInvoiceC2: 'custom-data-2',
        quickInvoiceC3: 'custom-data-3',
        autoReopen: true,
        id: '11e95f8ec39de8fbdb0a4f1a',
        createdTs: 1422040992,
        modifiedTs: 1422040992,
        createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
        active: true,
        paymentStatusId: 1,
        isActive: true,
        quickInvoiceSetting: {
          locationApiId: '11e95f8ec39de8fbdb0a4f1a',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          quickInvoiceTemplate: '<html>Template<html>',
          defaultAllowPartialPay: true,
          defaultNotificationOnDueDate: true,
          defaultNotificationDaysAfterDueDate: 7,
          defaultNotificationDaysBeforeDueDate: 3,
          showCustomFields: false,
          id: '11e95f8ec39de8fbdb0a4f1a',
        },
        quickInvoiceViews: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            quickInvoiceId: 'Quick Invoice ID',
            createdTs: 1422040992,
          }
        ],
        location: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          accountNumber: '5454545454545454',
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
          contactEmailTrxReceiptDefault: true,
          defaultAch: '11e608a7d515f1e093242bb2',
          defaultCc: '11e608a442a5f1e092242dda',
          emailReplyTo: 'email@domain.com',
          fax: '3339998822',
          locationApiId: 'location-111111',
          locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
          locationC1: 'custom 1',
          locationC2: 'custom 2',
          locationC3: 'custom data 3',
          name: 'Sample Company Headquarters',
          officePhone: '2481234567',
          officeExtPhone: '1021021209',
          tz: 'America/New_York',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          showContactNotes: true,
          showContactFiles: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          locationType: LocationTypeEnum.Merchant,
          ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
        },
        createdUser: {
          accountNumber: '5454545454545454',
          brandingDomainUrl: '{branding_domain_url}',
          cellPhone: '3339998822',
          companyName: 'Fortis Payment Systems, LLC',
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          dateOfBirth: '2021-12-01',
          domainId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          firstName: 'John',
          lastName: 'Smith',
          locale: 'en-US',
          officePhone: '3339998822',
          officeExtPhone: '5',
          primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
          requiresNewPassword: 'requires_new_password2',
          termsConditionCode: '20220308',
          tz: 'America/New_York',
          uiPrefs: {
            entryPage: 'dashboard',
            pageSize: 2,
            reportExportType: ReportExportTypeEnum.Csv,
            processMethod: ProcessMethodEnum.VirtualTerminal,
            defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
          },
          username: '{user_name}',
          userApiKey: '234bas8dfn8238f923w2',
          userHashKey: 'user_hash_key6',
          userTypeCode: UserTypeCodeEnum.Enum100,
          password: 'password4',
          zip: '48375',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          statusCode: StatusCodeEnum.Enum1,
          apiOnly: false,
          isInvitation: false,
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          id: '11e95f8ec39de8fbdb0a4f1a',
          status: true,
          loginAttempts: 0,
          lastLoginTs: 1422040992,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          termsAcceptedTs: 1422040992,
          termsAgreeIp: '192.168.0.10',
          currentDateTime: '2019-03-11T10:38:26-0700',
          currentLogin: 1422040992,
          logApiResponseBodyTs: 1422040992,
        },
        modifiedUser: {
          accountNumber: '5454545454545454',
          brandingDomainUrl: '{branding_domain_url}',
          cellPhone: '3339998822',
          companyName: 'Fortis Payment Systems, LLC',
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          dateOfBirth: '2021-12-01',
          domainId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          firstName: 'John',
          lastName: 'Smith',
          locale: 'en-US',
          officePhone: '3339998822',
          officeExtPhone: '5',
          primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
          requiresNewPassword: 'requires_new_password2',
          termsConditionCode: '20220308',
          tz: 'America/New_York',
          uiPrefs: {
            entryPage: 'dashboard',
            pageSize: 2,
            reportExportType: ReportExportTypeEnum.Csv,
            processMethod: ProcessMethodEnum.VirtualTerminal,
            defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
          },
          username: '{user_name}',
          userApiKey: '234bas8dfn8238f923w2',
          userHashKey: 'user_hash_key6',
          userTypeCode: UserTypeCodeEnum.Enum100,
          password: 'password4',
          zip: '48375',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          statusCode: StatusCodeEnum.Enum1,
          apiOnly: false,
          isInvitation: false,
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          id: '11e95f8ec39de8fbdb0a4f1a',
          status: true,
          loginAttempts: 0,
          lastLoginTs: 1422040992,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          termsAcceptedTs: 1422040992,
          termsAgreeIp: '192.168.0.10',
          currentDateTime: '2019-03-11T10:38:26-0700',
          currentLogin: 1422040992,
          logApiResponseBodyTs: 1422040992,
        },
        changelogs: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            action: 'CREATE',
            model: 'TransactionRequest',
            modelId: '11ec829598f0d4008be9aba4',
            userId: '11e95f8ec39de8fbdb0a4f1a',
            changelogDetails: [
              {
                id: '11e95f8ec39de8fbdb0a4f1a',
                changelogId: '11e95f8ec39de8fbdb0a4f1a',
                field: 'next_run_ts',
                oldValue: '1643616000',
              }
            ],
            user: {
              id: '11e95f8ec39de8fbdb0a4f1a',
              username: 'email@domain.com',
              firstName: 'Bob',
              lastName: 'Fairview',
            },
          }
        ],
        contact: {
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          accountNumber: '54545433332',
          contactApiId: '137',
          firstName: 'John',
          lastName: 'Smith',
          cellPhone: '3339998822',
          balance: 245.36,
          address: {
            city: 'Novi',
            state: 'Michigan',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          companyName: 'Fortis Payment Systems, LLC',
          headerMessage: 'This is a sample message for you',
          dateOfBirth: '2021-12-01',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          officePhone: '3339998822',
          officePhoneExt: '5',
          headerMessageType: 0,
          updateIfExists: UpdateIfExistsEnum.Enum1,
          contactC1: 'any',
          contactC2: 'anything',
          contactC3: 'something',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          active: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        },
        logEmails: [
          {
            subject: 'Payment Receipt - 12skiestech',
            body: 'This email is being sent from a server.',
            sourceAddress: '"12skiestech A7t3qi" <noreply@zeamster.email>',
            returnPath: '"12skiestech A7t3qi" <noreply@zeamster.email>',
            providerId: '0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-000000',
            domainId: '11e95f8ec39de8fbdb0a4f1a',
            reasonSent: 'Contact Email',
            reasonModel: ReasonModelEnum.Transaction,
            reasonModelId: '11e95f8ec39de8fbdb0a4f1a',
            replyTo: '"Zeamster" <emma.p@zeamster.com>',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
          }
        ],
        logSms: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          body: ' ',
          reasonModel: ' ',
          reasonModelId: ' ',
          providerId: ' ',
          status: ' ',
          sender: ' ',
          recipient: ' ',
          createdTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        },
        transactions: [
          {
            additionalAmounts: [
              {
                type: Type55Enum.Cashback,
                amount: 10,
                accountType: AccountTypeEnum.Credit,
                currency: 840,
              }
            ],
            billingAddress: {
              city: 'Novi',
              state: 'Michigan',
              postalCode: '48375',
              phone: '3339998822',
              country: 'USA',
            },
            checkinDate: '2021-12-01',
            checkoutDate: '2021-12-01',
            clerkNumber: 'AE1234',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            customData: {  },
            customerId: 'customerid',
            description: 'some description',
            identityVerification: {
              dlState: 'MI',
              dlNumber: '1235567',
              dobYear: '1980',
            },
            iiasInd: IiasIndEnum.Enum1,
            imageFront: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            imageBack: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            installment: true,
            installmentNumber: 1,
            installmentCount: 1,
            locationApiId: 'location-api-id-florida-2',
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
            advanceDeposit: false,
            noShow: false,
            notificationEmailAddress: 'johnsmith@smiths.com',
            orderNumber: '433659378839',
            poNumber: '555555553123',
            quickInvoiceId: '11e95f8ec39de8fbdb0a4f1a',
            recurring: false,
            recurringNumber: 1,
            roomNum: '303',
            roomRate: 95,
            saveAccount: false,
            saveAccountTitle: 'John Account',
            subtotalAmount: 599,
            surchargeAmount: 100,
            tags: [
              'Walk-in Customer'
            ],
            tax: 0,
            tipAmount: 0,
            transactionAmount: 0,
            secondaryAmount: 0,
            transactionApiId: 'transaction-payment-abcd123',
            transactionC1: 'custom-data-1',
            transactionC2: 'custom-data-2',
            transactionC3: 'custom-data-3',
            bankFundedOnlyOverride: false,
            allowPartialAuthorizationOverride: false,
            autoDeclineCvvOverride: false,
            autoDeclineStreetOverride: false,
            autoDeclineZipOverride: false,
            ebtType: EbtTypeEnum.FoodStamp,
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            terminalId: '11e95f8ec39de8fbdb0a4f1a',
            accountHolderName: 'smith',
            accountType: 'checking',
            tokenId: '11e95f8ec39de8fbdb0a4f1a',
            achIdentifier: 'P',
            achSecCode: AchSecCode1Enum.C21,
            authAmount: 1,
            authCode: 'BR349K',
            avs: AvsEnum.BAD,
            avsEnhanced: 'N',
            cardholderPresent: true,
            cardPresent: true,
            checkNumber: '8520748520963',
            customerIp: '192.168.0.10',
            cvvResponse: 'N',
            entryModeId: EntryModeIdEnum.C,
            emvReceiptData: {
              aID: 'a0000000042203',
              aPPLAB: 'US Maestro',
              aPPN: 'US Maestro',
              cVM: 'Pin Verified',
              tSI: 'e800',
              tVR: '0800008000',
            },
            firstSix: '545454',
            lastFour: '5454',
            paymentMethod: PaymentMethod9Enum.Cc,
            terminalSerialNumber: '1234567890',
            transactionSettlementStatus: 'transaction_settlement_status0',
            chargeBackDate: '2021-12-01',
            isRecurring: true,
            notificationEmailSent: true,
            par: 'Q1J4Z28RKA1EBL470G9XYG90R5D3E',
            reasonCodeId: ReasonCodeId1Enum.Enum1000,
            recurringId: '11e95f8ec39de8fbdb0a4f1a',
            settleDate: '2021-12-01',
            statusCode: StatusCode17Enum.Enum101,
            transactionBatchId: '11e95f8ec39de8fbdb0a4f1a',
            verbiage: 'APPROVED',
            voidDate: '2021-12-01',
            batch: '2',
            termsAgree: true,
            responseMessage: 'response_message2',
            returnDate: '2021-12-01',
            trxSourceId: TrxSourceIdEnum.Enum8,
            routingNumber: '051904524',
            trxSourceCode: TrxSourceCodeEnum.Enum8,
            paylinkId: '11e95f8ec39de8fbdb0a4f1a',
            isAccountvault: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
            effectiveDate: '2021-12-01',
            isToken: true,
            installmentTotal: 1,
            installmentCounter: 1,
            accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
            hostedPaymentPageId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        ccProductTransaction: {
          processorVersion: '1_0_0',
          title: 'My terminal',
          paymentMethod: PaymentMethodEnum.Cc,
          processor: ProcessorEnum.Zgate,
          mcc: '1111',
          taxSurchargeConfig: TaxSurchargeConfigEnum.Enum2,
          partner: PartnerEnum.Standalone,
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          surcharge: {  },
          processorData: {  },
          vtClerkNumber: true,
          vtBillingPhone: true,
          vtEnableTip: true,
          achAllowDebit: true,
          achAllowCredit: true,
          achAllowRefund: true,
          vtCvv: true,
          vtStreet: true,
          vtZip: true,
          vtOrderNum: true,
          vtEnable: true,
          receiptShowContactName: true,
          displayAvs: true,
          cardTypeVisa: true,
          cardTypeMc: true,
          cardTypeDisc: true,
          cardTypeAmex: true,
          cardTypeDiners: true,
          cardTypeJcb: true,
          cardTypeEbt: true,
          allowEbtCashBenefit: true,
          allowEbtFoodStamp: true,
          invoiceLocation: true,
          allowPartialAuthorization: true,
          allowRecurringPartialAuthorization: true,
          autoDeclineCvv: true,
          autoDeclineStreet: true,
          autoDeclineZip: true,
          splitPaymentsAllow: true,
          vtShowCustomFields: true,
          receiptShowCustomFields: true,
          vtOverrideSalesTaxAllowed: true,
          vtEnableSalesTax: true,
          vtRequireZip: true,
          vtRequireStreet: true,
          autoDeclineCavv: true,
          currentBatch: 34,
          dupCheckPerBatch: 'dup_check_per_batch8',
          paylinkAllow: false,
          quickInvoiceAllow: false,
          level3Allow: false,
          payfacEnable: false,
          enable3ds: false,
          salesOfficeId: '11e95f8ec39de8fbdb0a4f1a',
          hostedPaymentPageAllow: false,
          surchargeId: '11e95f8ec39de8fbdb0a4f1a',
          allowBigCommerce: false,
          level3Default: {
            destinationCountryCode: '840',
            dutyAmount: 0,
            freightAmount: 0,
            nationalTax: 2,
            salesTax: 200,
            shipfromZipCode: 'AZ12345',
            shiptoZipCode: 'MI48335',
            taxAmount: 0,
            taxExempt: TaxExemptEnum.Enum0,
            customerVatRegistration: '12345678',
            merchantVatRegistration: '123456',
            orderDate: '171006',
            summaryCommodityCode: 'C1K2',
            taxRate: 0,
            uniqueVatRefNumber: 'vat1234',
            lineItems: [
              {
                alternateTaxId: '1234',
                debitCredit: DebitCreditEnum.C,
                description: 'cool drink',
                discountAmount: 10,
                discountRate: 11,
                productCode: 'coke12345678',
                quantity: 5,
                taxAmount: 3,
                taxRate: 0,
                taxTypeApplied: '22',
                taxTypeId: 'a1',
                unitCode: 'gll',
                unitCost: 10,
                commodityCode: 'cc123456',
                otherTaxAmount: 0,
              }
            ],
          },
          cauSubscribeTypeId: CauSubscribeTypeIdEnum.Enum0,
          locationBillingAccountId: '11eb88b873980c64a21e5fd2',
          productBillingGroupId: 'nofees',
          accountNumber: '12345678',
          runAvsOnAccountvaultCreate: false,
          accountvaultExpireNotificationEmailEnable: false,
          debitAllowVoid: false,
          quickInvoiceTextToPay: false,
          smsEnable: false,
          vtShowCurrency: true,
          receiptShowCurrency: false,
          allowBlindRefund: false,
          vtShowCompanyName: false,
          receiptShowCompanyName: false,
          bankFundedOnly: false,
          requireCvvOnKeyedCnp: true,
          requireCvvOnTokenizedCnp: true,
          showSecondaryAmount: false,
          allowSecondaryAmount: false,
          showGooglePay: true,
          showApplePay: true,
          batchRiskConfig: {
          },
          currencyCode: 840,
          enableAchValidation: false,
          enableAchRetry: false,
          id: '11e95f8ec39de8fbdb0a4f1a',
          active: true,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
          productTransactionApiId: '11e95f8ec39de8fbdb0a4f1a',
          isSecondaryAmountAllowed: false,
          fortisId: '8149742',
          productBillingGroupCode: 'nofees',
          cauSubscribeTypeCode: CauSubscribeTypeCodeEnum.Enum0,
        },
        achProductTransaction: {
          processorVersion: '1_0_0',
          title: 'My terminal',
          paymentMethod: PaymentMethodEnum.Cc,
          processor: ProcessorEnum.Zgate,
          mcc: '1111',
          taxSurchargeConfig: TaxSurchargeConfigEnum.Enum2,
          partner: PartnerEnum.Standalone,
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          surcharge: {  },
          processorData: {  },
          vtClerkNumber: true,
          vtBillingPhone: true,
          vtEnableTip: true,
          achAllowDebit: true,
          achAllowCredit: true,
          achAllowRefund: true,
          vtCvv: true,
          vtStreet: true,
          vtZip: true,
          vtOrderNum: true,
          vtEnable: true,
          receiptShowContactName: true,
          displayAvs: true,
          cardTypeVisa: true,
          cardTypeMc: true,
          cardTypeDisc: true,
          cardTypeAmex: true,
          cardTypeDiners: true,
          cardTypeJcb: true,
          cardTypeEbt: true,
          allowEbtCashBenefit: true,
          allowEbtFoodStamp: true,
          invoiceLocation: true,
          allowPartialAuthorization: true,
          allowRecurringPartialAuthorization: true,
          autoDeclineCvv: true,
          autoDeclineStreet: true,
          autoDeclineZip: true,
          splitPaymentsAllow: true,
          vtShowCustomFields: true,
          receiptShowCustomFields: true,
          vtOverrideSalesTaxAllowed: true,
          vtEnableSalesTax: true,
          vtRequireZip: true,
          vtRequireStreet: true,
          autoDeclineCavv: true,
          currentBatch: 34,
          dupCheckPerBatch: 'dup_check_per_batch8',
          paylinkAllow: false,
          quickInvoiceAllow: false,
          level3Allow: false,
          payfacEnable: false,
          enable3ds: false,
          salesOfficeId: '11e95f8ec39de8fbdb0a4f1a',
          hostedPaymentPageAllow: false,
          surchargeId: '11e95f8ec39de8fbdb0a4f1a',
          allowBigCommerce: false,
          level3Default: {
            destinationCountryCode: '840',
            dutyAmount: 0,
            freightAmount: 0,
            nationalTax: 2,
            salesTax: 200,
            shipfromZipCode: 'AZ12345',
            shiptoZipCode: 'MI48335',
            taxAmount: 0,
            taxExempt: TaxExemptEnum.Enum0,
            customerVatRegistration: '12345678',
            merchantVatRegistration: '123456',
            orderDate: '171006',
            summaryCommodityCode: 'C1K2',
            taxRate: 0,
            uniqueVatRefNumber: 'vat1234',
            lineItems: [
              {
                alternateTaxId: '1234',
                debitCredit: DebitCreditEnum.C,
                description: 'cool drink',
                discountAmount: 10,
                discountRate: 11,
                productCode: 'coke12345678',
                quantity: 5,
                taxAmount: 3,
                taxRate: 0,
                taxTypeApplied: '22',
                taxTypeId: 'a1',
                unitCode: 'gll',
                unitCost: 10,
                commodityCode: 'cc123456',
                otherTaxAmount: 0,
              }
            ],
          },
          cauSubscribeTypeId: CauSubscribeTypeIdEnum.Enum0,
          locationBillingAccountId: '11eb88b873980c64a21e5fd2',
          productBillingGroupId: 'nofees',
          accountNumber: '12345678',
          runAvsOnAccountvaultCreate: false,
          accountvaultExpireNotificationEmailEnable: false,
          debitAllowVoid: false,
          quickInvoiceTextToPay: false,
          smsEnable: false,
          vtShowCurrency: true,
          receiptShowCurrency: false,
          allowBlindRefund: false,
          vtShowCompanyName: false,
          receiptShowCompanyName: false,
          bankFundedOnly: false,
          requireCvvOnKeyedCnp: true,
          requireCvvOnTokenizedCnp: true,
          showSecondaryAmount: false,
          allowSecondaryAmount: false,
          showGooglePay: true,
          showApplePay: true,
          batchRiskConfig: {
          },
          currencyCode: 840,
          enableAchValidation: false,
          enableAchRetry: false,
          id: '11e95f8ec39de8fbdb0a4f1a',
          active: true,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
          productTransactionApiId: '11e95f8ec39de8fbdb0a4f1a',
          isSecondaryAmountAllowed: false,
          fortisId: '8149742',
          productBillingGroupCode: 'nofees',
          cauSubscribeTypeCode: CauSubscribeTypeCodeEnum.Enum0,
        },
        emailBlacklist: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          isBlacklisted: true,
          detail: true,
          createdTs: 1422040992,
        },
        smsBlacklist: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          isBlacklisted: true,
          detail: true,
          createdTs: 1422040992,
        },
      },
    };

    expect(response.result).not.toBeNull();
    expectMatchingWithOptions(
      expected,
      response.result,
      { allowExtra: true, isOrdered: false, checkValues: false }
    );
  });

  it('should Test Reopen quick invoice', async () => {
    const quickInvoiceId = '11e95f8ec39de8fbdb0a4f1a';

    const response = await makeApiCall(
      () => controller.reopenQuickInvoice(quickInvoiceId)
    );

    expect(response.statusCode).toBe(201);

    const expectedHeaders = { 'Content-Type': ['application/json', true] };

    expectHeadersToMatch(response.headers, expectedHeaders);

    const expected: ResponseQuickInvoice = {
      type: Type54Enum.QuickInvoice,
      data: {
        locationId: '11e95f8ec39de8fbdb0a4f1a',
        title: 'My terminal',
        ccProductTransactionId: '11e95f8ec39de8fbdb0a4f1a',
        achProductTransactionId: '11e95f8ec39de8fbdb0a4f1a',
        dueDate: '2021-12-01',
        itemList: [
          {
            name: 'Bread',
            amount: 2015,
          }
        ],
        allowOverpayment: true,
        bankFundedOnlyOverride: true,
        email: 'email@domain.com',
        contactId: '11e95f8ec39de8fbdb0a4f1a',
        contactApiId: 'contact12345',
        quickInvoiceApiId: 'quickinvoice12345',
        customerId: '11e95f8ec39de8fbdb0a4f1a',
        expireDate: '2021-12-01',
        allowPartialPay: true,
        attachFilesToEmail: true,
        sendEmail: true,
        invoiceNumber: 'invoice12345',
        itemHeader: 'Quick invoice header sample',
        itemFooter: 'Thank you',
        amountDue: 245.36,
        notificationEmail: 'email@domain.com',
        statusId: StatusIdEnum.Enum1,
        statusCode: StatusCode12Enum.Enum1,
        note: 'some note',
        notificationDaysBeforeDueDate: 3,
        notificationDaysAfterDueDate: 7,
        notificationOnDueDate: true,
        sendTextToPay: true,
        files: [
          {
            file: {  },
            resourceId: '11e95f8ec39de8fbdb0a4f1a',
            resource: Resource2Enum.Contact,
            productFileId: '11e95f8ec39de8fbdb0a4f1a',
            fileCategoryId: '11e95f8ec39de8fbdb0a4f1a',
            visibilityGroupId: '11e95f8ec39de8fbdb0a4f1a',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        remainingBalance: 245.36,
        singlePaymentMinAmount: 500,
        singlePaymentMaxAmount: 500000,
        cellPhone: '3339998822',
        tags: [
          {
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            title: 'My terminal',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
          }
        ],
        quickInvoiceC1: 'custom-data-1',
        quickInvoiceC2: 'custom-data-2',
        quickInvoiceC3: 'custom-data-3',
        autoReopen: true,
        id: '11e95f8ec39de8fbdb0a4f1a',
        createdTs: 1422040992,
        modifiedTs: 1422040992,
        createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
        active: true,
        paymentStatusId: 1,
        isActive: true,
        quickInvoiceSetting: {
          locationApiId: '11e95f8ec39de8fbdb0a4f1a',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          quickInvoiceTemplate: '<html>Template<html>',
          defaultAllowPartialPay: true,
          defaultNotificationOnDueDate: true,
          defaultNotificationDaysAfterDueDate: 7,
          defaultNotificationDaysBeforeDueDate: 3,
          showCustomFields: false,
          id: '11e95f8ec39de8fbdb0a4f1a',
        },
        quickInvoiceViews: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            quickInvoiceId: 'Quick Invoice ID',
            createdTs: 1422040992,
          }
        ],
        location: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          accountNumber: '5454545454545454',
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
          contactEmailTrxReceiptDefault: true,
          defaultAch: '11e608a7d515f1e093242bb2',
          defaultCc: '11e608a442a5f1e092242dda',
          emailReplyTo: 'email@domain.com',
          fax: '3339998822',
          locationApiId: 'location-111111',
          locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
          locationC1: 'custom 1',
          locationC2: 'custom 2',
          locationC3: 'custom data 3',
          name: 'Sample Company Headquarters',
          officePhone: '2481234567',
          officeExtPhone: '1021021209',
          tz: 'America/New_York',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          showContactNotes: true,
          showContactFiles: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          locationType: LocationTypeEnum.Merchant,
          ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
        },
        createdUser: {
          accountNumber: '5454545454545454',
          brandingDomainUrl: '{branding_domain_url}',
          cellPhone: '3339998822',
          companyName: 'Fortis Payment Systems, LLC',
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          dateOfBirth: '2021-12-01',
          domainId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          firstName: 'John',
          lastName: 'Smith',
          locale: 'en-US',
          officePhone: '3339998822',
          officeExtPhone: '5',
          primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
          requiresNewPassword: 'requires_new_password2',
          termsConditionCode: '20220308',
          tz: 'America/New_York',
          uiPrefs: {
            entryPage: 'dashboard',
            pageSize: 2,
            reportExportType: ReportExportTypeEnum.Csv,
            processMethod: ProcessMethodEnum.VirtualTerminal,
            defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
          },
          username: '{user_name}',
          userApiKey: '234bas8dfn8238f923w2',
          userHashKey: 'user_hash_key6',
          userTypeCode: UserTypeCodeEnum.Enum100,
          password: 'password4',
          zip: '48375',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          statusCode: StatusCodeEnum.Enum1,
          apiOnly: false,
          isInvitation: false,
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          id: '11e95f8ec39de8fbdb0a4f1a',
          status: true,
          loginAttempts: 0,
          lastLoginTs: 1422040992,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          termsAcceptedTs: 1422040992,
          termsAgreeIp: '192.168.0.10',
          currentDateTime: '2019-03-11T10:38:26-0700',
          currentLogin: 1422040992,
          logApiResponseBodyTs: 1422040992,
        },
        modifiedUser: {
          accountNumber: '5454545454545454',
          brandingDomainUrl: '{branding_domain_url}',
          cellPhone: '3339998822',
          companyName: 'Fortis Payment Systems, LLC',
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          dateOfBirth: '2021-12-01',
          domainId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          firstName: 'John',
          lastName: 'Smith',
          locale: 'en-US',
          officePhone: '3339998822',
          officeExtPhone: '5',
          primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
          requiresNewPassword: 'requires_new_password2',
          termsConditionCode: '20220308',
          tz: 'America/New_York',
          uiPrefs: {
            entryPage: 'dashboard',
            pageSize: 2,
            reportExportType: ReportExportTypeEnum.Csv,
            processMethod: ProcessMethodEnum.VirtualTerminal,
            defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
          },
          username: '{user_name}',
          userApiKey: '234bas8dfn8238f923w2',
          userHashKey: 'user_hash_key6',
          userTypeCode: UserTypeCodeEnum.Enum100,
          password: 'password4',
          zip: '48375',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          statusCode: StatusCodeEnum.Enum1,
          apiOnly: false,
          isInvitation: false,
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          id: '11e95f8ec39de8fbdb0a4f1a',
          status: true,
          loginAttempts: 0,
          lastLoginTs: 1422040992,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          termsAcceptedTs: 1422040992,
          termsAgreeIp: '192.168.0.10',
          currentDateTime: '2019-03-11T10:38:26-0700',
          currentLogin: 1422040992,
          logApiResponseBodyTs: 1422040992,
        },
        changelogs: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            action: 'CREATE',
            model: 'TransactionRequest',
            modelId: '11ec829598f0d4008be9aba4',
            userId: '11e95f8ec39de8fbdb0a4f1a',
            changelogDetails: [
              {
                id: '11e95f8ec39de8fbdb0a4f1a',
                changelogId: '11e95f8ec39de8fbdb0a4f1a',
                field: 'next_run_ts',
                oldValue: '1643616000',
              }
            ],
            user: {
              id: '11e95f8ec39de8fbdb0a4f1a',
              username: 'email@domain.com',
              firstName: 'Bob',
              lastName: 'Fairview',
            },
          }
        ],
        contact: {
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          accountNumber: '54545433332',
          contactApiId: '137',
          firstName: 'John',
          lastName: 'Smith',
          cellPhone: '3339998822',
          balance: 245.36,
          address: {
            city: 'Novi',
            state: 'Michigan',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          companyName: 'Fortis Payment Systems, LLC',
          headerMessage: 'This is a sample message for you',
          dateOfBirth: '2021-12-01',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          officePhone: '3339998822',
          officePhoneExt: '5',
          headerMessageType: 0,
          updateIfExists: UpdateIfExistsEnum.Enum1,
          contactC1: 'any',
          contactC2: 'anything',
          contactC3: 'something',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          active: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        },
        logEmails: [
          {
            subject: 'Payment Receipt - 12skiestech',
            body: 'This email is being sent from a server.',
            sourceAddress: '"12skiestech A7t3qi" <noreply@zeamster.email>',
            returnPath: '"12skiestech A7t3qi" <noreply@zeamster.email>',
            providerId: '0100017e67bcc530-e1dd23b4-8a39-4a5b-8d5d-68d51c4c942f-000000',
            domainId: '11e95f8ec39de8fbdb0a4f1a',
            reasonSent: 'Contact Email',
            reasonModel: ReasonModelEnum.Transaction,
            reasonModelId: '11e95f8ec39de8fbdb0a4f1a',
            replyTo: '"Zeamster" <emma.p@zeamster.com>',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
          }
        ],
        logSms: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          body: ' ',
          reasonModel: ' ',
          reasonModelId: ' ',
          providerId: ' ',
          status: ' ',
          sender: ' ',
          recipient: ' ',
          createdTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        },
        transactions: [
          {
            additionalAmounts: [
              {
                type: Type55Enum.Cashback,
                amount: 10,
                accountType: AccountTypeEnum.Credit,
                currency: 840,
              }
            ],
            billingAddress: {
              city: 'Novi',
              state: 'Michigan',
              postalCode: '48375',
              phone: '3339998822',
              country: 'USA',
            },
            checkinDate: '2021-12-01',
            checkoutDate: '2021-12-01',
            clerkNumber: 'AE1234',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            customData: {  },
            customerId: 'customerid',
            description: 'some description',
            identityVerification: {
              dlState: 'MI',
              dlNumber: '1235567',
              dobYear: '1980',
            },
            iiasInd: IiasIndEnum.Enum1,
            imageFront: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            imageBack: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            installment: true,
            installmentNumber: 1,
            installmentCount: 1,
            locationApiId: 'location-api-id-florida-2',
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
            advanceDeposit: false,
            noShow: false,
            notificationEmailAddress: 'johnsmith@smiths.com',
            orderNumber: '433659378839',
            poNumber: '555555553123',
            quickInvoiceId: '11e95f8ec39de8fbdb0a4f1a',
            recurring: false,
            recurringNumber: 1,
            roomNum: '303',
            roomRate: 95,
            saveAccount: false,
            saveAccountTitle: 'John Account',
            subtotalAmount: 599,
            surchargeAmount: 100,
            tags: [
              'Walk-in Customer'
            ],
            tax: 0,
            tipAmount: 0,
            transactionAmount: 0,
            secondaryAmount: 0,
            transactionApiId: 'transaction-payment-abcd123',
            transactionC1: 'custom-data-1',
            transactionC2: 'custom-data-2',
            transactionC3: 'custom-data-3',
            bankFundedOnlyOverride: false,
            allowPartialAuthorizationOverride: false,
            autoDeclineCvvOverride: false,
            autoDeclineStreetOverride: false,
            autoDeclineZipOverride: false,
            ebtType: EbtTypeEnum.FoodStamp,
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            terminalId: '11e95f8ec39de8fbdb0a4f1a',
            accountHolderName: 'smith',
            accountType: 'checking',
            tokenId: '11e95f8ec39de8fbdb0a4f1a',
            achIdentifier: 'P',
            achSecCode: AchSecCode1Enum.C21,
            authAmount: 1,
            authCode: 'BR349K',
            avs: AvsEnum.BAD,
            avsEnhanced: 'N',
            cardholderPresent: true,
            cardPresent: true,
            checkNumber: '8520748520963',
            customerIp: '192.168.0.10',
            cvvResponse: 'N',
            entryModeId: EntryModeIdEnum.C,
            emvReceiptData: {
              aID: 'a0000000042203',
              aPPLAB: 'US Maestro',
              aPPN: 'US Maestro',
              cVM: 'Pin Verified',
              tSI: 'e800',
              tVR: '0800008000',
            },
            firstSix: '545454',
            lastFour: '5454',
            paymentMethod: PaymentMethod9Enum.Cc,
            terminalSerialNumber: '1234567890',
            transactionSettlementStatus: 'transaction_settlement_status0',
            chargeBackDate: '2021-12-01',
            isRecurring: true,
            notificationEmailSent: true,
            par: 'Q1J4Z28RKA1EBL470G9XYG90R5D3E',
            reasonCodeId: ReasonCodeId1Enum.Enum1000,
            recurringId: '11e95f8ec39de8fbdb0a4f1a',
            settleDate: '2021-12-01',
            statusCode: StatusCode17Enum.Enum101,
            transactionBatchId: '11e95f8ec39de8fbdb0a4f1a',
            verbiage: 'APPROVED',
            voidDate: '2021-12-01',
            batch: '2',
            termsAgree: true,
            responseMessage: 'response_message2',
            returnDate: '2021-12-01',
            trxSourceId: TrxSourceIdEnum.Enum8,
            routingNumber: '051904524',
            trxSourceCode: TrxSourceCodeEnum.Enum8,
            paylinkId: '11e95f8ec39de8fbdb0a4f1a',
            isAccountvault: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
            effectiveDate: '2021-12-01',
            isToken: true,
            installmentTotal: 1,
            installmentCounter: 1,
            accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
            hostedPaymentPageId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        ccProductTransaction: {
          processorVersion: '1_0_0',
          title: 'My terminal',
          paymentMethod: PaymentMethodEnum.Cc,
          processor: ProcessorEnum.Zgate,
          mcc: '1111',
          taxSurchargeConfig: TaxSurchargeConfigEnum.Enum2,
          partner: PartnerEnum.Standalone,
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          surcharge: {  },
          processorData: {  },
          vtClerkNumber: true,
          vtBillingPhone: true,
          vtEnableTip: true,
          achAllowDebit: true,
          achAllowCredit: true,
          achAllowRefund: true,
          vtCvv: true,
          vtStreet: true,
          vtZip: true,
          vtOrderNum: true,
          vtEnable: true,
          receiptShowContactName: true,
          displayAvs: true,
          cardTypeVisa: true,
          cardTypeMc: true,
          cardTypeDisc: true,
          cardTypeAmex: true,
          cardTypeDiners: true,
          cardTypeJcb: true,
          cardTypeEbt: true,
          allowEbtCashBenefit: true,
          allowEbtFoodStamp: true,
          invoiceLocation: true,
          allowPartialAuthorization: true,
          allowRecurringPartialAuthorization: true,
          autoDeclineCvv: true,
          autoDeclineStreet: true,
          autoDeclineZip: true,
          splitPaymentsAllow: true,
          vtShowCustomFields: true,
          receiptShowCustomFields: true,
          vtOverrideSalesTaxAllowed: true,
          vtEnableSalesTax: true,
          vtRequireZip: true,
          vtRequireStreet: true,
          autoDeclineCavv: true,
          currentBatch: 34,
          dupCheckPerBatch: 'dup_check_per_batch8',
          paylinkAllow: false,
          quickInvoiceAllow: false,
          level3Allow: false,
          payfacEnable: false,
          enable3ds: false,
          salesOfficeId: '11e95f8ec39de8fbdb0a4f1a',
          hostedPaymentPageAllow: false,
          surchargeId: '11e95f8ec39de8fbdb0a4f1a',
          allowBigCommerce: false,
          level3Default: {
            destinationCountryCode: '840',
            dutyAmount: 0,
            freightAmount: 0,
            nationalTax: 2,
            salesTax: 200,
            shipfromZipCode: 'AZ12345',
            shiptoZipCode: 'MI48335',
            taxAmount: 0,
            taxExempt: TaxExemptEnum.Enum0,
            customerVatRegistration: '12345678',
            merchantVatRegistration: '123456',
            orderDate: '171006',
            summaryCommodityCode: 'C1K2',
            taxRate: 0,
            uniqueVatRefNumber: 'vat1234',
            lineItems: [
              {
                alternateTaxId: '1234',
                debitCredit: DebitCreditEnum.C,
                description: 'cool drink',
                discountAmount: 10,
                discountRate: 11,
                productCode: 'coke12345678',
                quantity: 5,
                taxAmount: 3,
                taxRate: 0,
                taxTypeApplied: '22',
                taxTypeId: 'a1',
                unitCode: 'gll',
                unitCost: 10,
                commodityCode: 'cc123456',
                otherTaxAmount: 0,
              }
            ],
          },
          cauSubscribeTypeId: CauSubscribeTypeIdEnum.Enum0,
          locationBillingAccountId: '11eb88b873980c64a21e5fd2',
          productBillingGroupId: 'nofees',
          accountNumber: '12345678',
          runAvsOnAccountvaultCreate: false,
          accountvaultExpireNotificationEmailEnable: false,
          debitAllowVoid: false,
          quickInvoiceTextToPay: false,
          smsEnable: false,
          vtShowCurrency: true,
          receiptShowCurrency: false,
          allowBlindRefund: false,
          vtShowCompanyName: false,
          receiptShowCompanyName: false,
          bankFundedOnly: false,
          requireCvvOnKeyedCnp: true,
          requireCvvOnTokenizedCnp: true,
          showSecondaryAmount: false,
          allowSecondaryAmount: false,
          showGooglePay: true,
          showApplePay: true,
          batchRiskConfig: {
          },
          currencyCode: 840,
          enableAchValidation: false,
          enableAchRetry: false,
          id: '11e95f8ec39de8fbdb0a4f1a',
          active: true,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
          productTransactionApiId: '11e95f8ec39de8fbdb0a4f1a',
          isSecondaryAmountAllowed: false,
          fortisId: '8149742',
          productBillingGroupCode: 'nofees',
          cauSubscribeTypeCode: CauSubscribeTypeCodeEnum.Enum0,
        },
        achProductTransaction: {
          processorVersion: '1_0_0',
          title: 'My terminal',
          paymentMethod: PaymentMethodEnum.Cc,
          processor: ProcessorEnum.Zgate,
          mcc: '1111',
          taxSurchargeConfig: TaxSurchargeConfigEnum.Enum2,
          partner: PartnerEnum.Standalone,
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          surcharge: {  },
          processorData: {  },
          vtClerkNumber: true,
          vtBillingPhone: true,
          vtEnableTip: true,
          achAllowDebit: true,
          achAllowCredit: true,
          achAllowRefund: true,
          vtCvv: true,
          vtStreet: true,
          vtZip: true,
          vtOrderNum: true,
          vtEnable: true,
          receiptShowContactName: true,
          displayAvs: true,
          cardTypeVisa: true,
          cardTypeMc: true,
          cardTypeDisc: true,
          cardTypeAmex: true,
          cardTypeDiners: true,
          cardTypeJcb: true,
          cardTypeEbt: true,
          allowEbtCashBenefit: true,
          allowEbtFoodStamp: true,
          invoiceLocation: true,
          allowPartialAuthorization: true,
          allowRecurringPartialAuthorization: true,
          autoDeclineCvv: true,
          autoDeclineStreet: true,
          autoDeclineZip: true,
          splitPaymentsAllow: true,
          vtShowCustomFields: true,
          receiptShowCustomFields: true,
          vtOverrideSalesTaxAllowed: true,
          vtEnableSalesTax: true,
          vtRequireZip: true,
          vtRequireStreet: true,
          autoDeclineCavv: true,
          currentBatch: 34,
          dupCheckPerBatch: 'dup_check_per_batch8',
          paylinkAllow: false,
          quickInvoiceAllow: false,
          level3Allow: false,
          payfacEnable: false,
          enable3ds: false,
          salesOfficeId: '11e95f8ec39de8fbdb0a4f1a',
          hostedPaymentPageAllow: false,
          surchargeId: '11e95f8ec39de8fbdb0a4f1a',
          allowBigCommerce: false,
          level3Default: {
            destinationCountryCode: '840',
            dutyAmount: 0,
            freightAmount: 0,
            nationalTax: 2,
            salesTax: 200,
            shipfromZipCode: 'AZ12345',
            shiptoZipCode: 'MI48335',
            taxAmount: 0,
            taxExempt: TaxExemptEnum.Enum0,
            customerVatRegistration: '12345678',
            merchantVatRegistration: '123456',
            orderDate: '171006',
            summaryCommodityCode: 'C1K2',
            taxRate: 0,
            uniqueVatRefNumber: 'vat1234',
            lineItems: [
              {
                alternateTaxId: '1234',
                debitCredit: DebitCreditEnum.C,
                description: 'cool drink',
                discountAmount: 10,
                discountRate: 11,
                productCode: 'coke12345678',
                quantity: 5,
                taxAmount: 3,
                taxRate: 0,
                taxTypeApplied: '22',
                taxTypeId: 'a1',
                unitCode: 'gll',
                unitCost: 10,
                commodityCode: 'cc123456',
                otherTaxAmount: 0,
              }
            ],
          },
          cauSubscribeTypeId: CauSubscribeTypeIdEnum.Enum0,
          locationBillingAccountId: '11eb88b873980c64a21e5fd2',
          productBillingGroupId: 'nofees',
          accountNumber: '12345678',
          runAvsOnAccountvaultCreate: false,
          accountvaultExpireNotificationEmailEnable: false,
          debitAllowVoid: false,
          quickInvoiceTextToPay: false,
          smsEnable: false,
          vtShowCurrency: true,
          receiptShowCurrency: false,
          allowBlindRefund: false,
          vtShowCompanyName: false,
          receiptShowCompanyName: false,
          bankFundedOnly: false,
          requireCvvOnKeyedCnp: true,
          requireCvvOnTokenizedCnp: true,
          showSecondaryAmount: false,
          allowSecondaryAmount: false,
          showGooglePay: true,
          showApplePay: true,
          batchRiskConfig: {
          },
          currencyCode: 840,
          enableAchValidation: false,
          enableAchRetry: false,
          id: '11e95f8ec39de8fbdb0a4f1a',
          active: true,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
          productTransactionApiId: '11e95f8ec39de8fbdb0a4f1a',
          isSecondaryAmountAllowed: false,
          fortisId: '8149742',
          productBillingGroupCode: 'nofees',
          cauSubscribeTypeCode: CauSubscribeTypeCodeEnum.Enum0,
        },
        emailBlacklist: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          isBlacklisted: true,
          detail: true,
          createdTs: 1422040992,
        },
        smsBlacklist: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          isBlacklisted: true,
          detail: true,
          createdTs: 1422040992,
        },
      },
    };

    expect(response.result).not.toBeNull();
    expectMatchingWithOptions(
      expected,
      response.result,
      { allowExtra: true, isOrdered: false, checkValues: false }
    );
  });
});
