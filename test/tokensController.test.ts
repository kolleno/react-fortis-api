/**
 * Fortis APILib
 *
 * This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
 */

import {
  AccountTypeEnum,
  AchSecCode1Enum,
  AchSecCode3Enum,
  AvsEnum,
  CauSummaryStatusIdEnum,
  CountryEnum,
  EbtTypeEnum,
  EntryModeIdEnum,
  IiasIndEnum,
  IntervalTypeEnum,
  LocationTypeEnum,
  OrderEnum,
  PaymentMethod16Enum,
  PaymentMethod1Enum,
  PaymentMethod9Enum,
  ProcessMethodEnum,
  ReasonCodeId1Enum,
  RecurringTypeIdEnum,
  ReportExportTypeEnum,
  ResourceEnum,
  ResponseToken,
  ResponseTokensCollection,
  StatusCode17Enum,
  StatusCodeEnum,
  StatusEnum,
  TokensController,
  TrxSourceCodeEnum,
  TrxSourceIdEnum,
  Type2Enum,
  Type3Enum,
  Type4Enum,
  Type55Enum,
  Type87Enum,
  Type89Enum,
  UpdateIfExistsEnum,
  UserTypeCodeEnum,
} from '../src';
import { testClient } from './testClient';
import {
  expectHeadersToMatch,
  expectMatchingWithOptions,
  makeApiCall,
} from './testHelper';

describe('TokensController', () => {
  let controller : TokensController;

  beforeAll(() => {
    controller = new TokensController(testClient);
  });

  it('should Test Delete a single token record', async () => {
    const tokenId = '11e95f8ec39de8fbdb0a4f1a';

    const response = await makeApiCall(
      () => controller.deleteASingleTokenRecord(tokenId)
    );

    expect(response.statusCode).toBe(204);

    const expectedHeaders = { 'Content-Type': ['application/json', true] };

    expectHeadersToMatch(response.headers, expectedHeaders);

    const expected: ResponseToken = {
      type: Type87Enum.Token,
      data: {
        accountHolderName: 'John Smith',
        accountVaultApiId: 'accountvaultabcd',
        tokenApiId: 'tokenabcd',
        accountvaultC1: 'accountvault custom 1',
        accountvaultC2: 'accountvault custom 2',
        accountvaultC3: 'accountvault custom 3',
        tokenC1: 'token custom 1',
        tokenC2: 'token custom 2',
        tokenC3: 'token custom 3',
        achSecCode: AchSecCode3Enum.WEB,
        billingAddress: {
          postalCode: '48375',
          city: 'Novi',
          state: 'Michigan',
          phone: '3339998822',
          country: 'USA',
        },
        contactId: '11e95f8ec39de8fbdb0a4f1a',
        customerId: '123456',
        identityVerification: {
          dlState: 'MI',
          dlNumber: '1235567',
          ssn4: '8527',
          dobYear: '1980',
        },
        locationId: '11e95f8ec39de8fbdb0a4f1a',
        previousAccountVaultApiId: 'previousaccountvault123456',
        previousTokenApiId: 'previousaccountvault123456',
        previousAccountVaultId: '11e95f8ec39de8fbdb0a4f1a',
        previousTokenId: '11e95f8ec39de8fbdb0a4f1a',
        previousTransactionId: '11e95f8ec39de8fbdb0a4f1a',
        accountNumber: '545454545454545',
        termsAgree: true,
        termsAgreeIp: '192.168.0.10',
        title: 'Test CC Account',
        tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
        secureDirectoryServerTransactionId: 'd65e93c3-35ab-41ba-b307-767bfc19eae',
        secureProtocolVersion: 2,
        secureAuthData: 'vVwL7UNHCf8W8M2LAfvRChNHN7c%3D',
        secureCollectionIndicator: 104,
        threeDsServerTransId: 'd65e93c3-35ab-41ba-b307-767bfc19eae',
        acsTransactionId: '13c701a3-5a88-4c45-89e9-ef65e50a8bf9',
        joi: {
        },
        id: '11e95f8ec39de8fbdb0a4f1a',
        accountType: 'checking',
        active: true,
        cauSummaryStatusId: CauSummaryStatusIdEnum.Enum1,
        createdTs: 1422040992,
        eSerialNumber: '1234567890',
        eTrackData: 'e_track_data8',
        eFormat: 'e_format4',
        eKeyedData: 'e_keyed_data4',
        expiringInMonths: 192,
        expDate: '0722',
        firstSix: '700953',
        hasRecurring: false,
        lastFour: '3657',
        modifiedTs: 1422040992,
        paymentMethod: PaymentMethod16Enum.Cc,
        ticket: 'ticket4',
        trackData: 'track_data2',
        createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        cauLastUpdatedTs: 1422040992,
        routingNumber: '051904524',
        location: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          accountNumber: '5454545454545454',
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
          contactEmailTrxReceiptDefault: true,
          defaultAch: '11e608a7d515f1e093242bb2',
          defaultCc: '11e608a442a5f1e092242dda',
          emailReplyTo: 'email@domain.com',
          fax: '3339998822',
          locationApiId: 'location-111111',
          locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
          locationC1: 'custom 1',
          locationC2: 'custom 2',
          locationC3: 'custom data 3',
          name: 'Sample Company Headquarters',
          officePhone: '2481234567',
          officeExtPhone: '1021021209',
          tz: 'America/New_York',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          showContactNotes: true,
          showContactFiles: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          locationType: LocationTypeEnum.Merchant,
          ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
        },
        contact: {
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          accountNumber: '54545433332',
          contactApiId: '137',
          firstName: 'John',
          lastName: 'Smith',
          cellPhone: '3339998822',
          balance: 245.36,
          address: {
            city: 'Novi',
            state: 'Michigan',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          companyName: 'Fortis Payment Systems, LLC',
          headerMessage: 'This is a sample message for you',
          dateOfBirth: '2021-12-01',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          officePhone: '3339998822',
          officePhoneExt: '5',
          headerMessageType: 0,
          updateIfExists: UpdateIfExistsEnum.Enum1,
          contactC1: 'any',
          contactC2: 'anything',
          contactC3: 'something',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          active: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        },
        transactions: [
          {
            additionalAmounts: [
              {
                type: Type55Enum.Cashback,
                amount: 10,
                accountType: AccountTypeEnum.Credit,
                currency: 840,
              }
            ],
            billingAddress: {
              city: 'Novi',
              state: 'Michigan',
              postalCode: '48375',
              phone: '3339998822',
              country: 'USA',
            },
            checkinDate: '2021-12-01',
            checkoutDate: '2021-12-01',
            clerkNumber: 'AE1234',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            customData: {  },
            customerId: 'customerid',
            description: 'some description',
            identityVerification: {
              dlState: 'MI',
              dlNumber: '1235567',
              dobYear: '1980',
            },
            iiasInd: IiasIndEnum.Enum1,
            imageFront: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            imageBack: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            installment: true,
            installmentNumber: 1,
            installmentCount: 1,
            locationApiId: 'location-api-id-florida-2',
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
            advanceDeposit: false,
            noShow: false,
            notificationEmailAddress: 'johnsmith@smiths.com',
            orderNumber: '433659378839',
            poNumber: '555555553123',
            quickInvoiceId: '11e95f8ec39de8fbdb0a4f1a',
            recurring: false,
            recurringNumber: 1,
            roomNum: '303',
            roomRate: 95,
            saveAccount: false,
            saveAccountTitle: 'John Account',
            subtotalAmount: 599,
            surchargeAmount: 100,
            tags: [
              'Walk-in Customer'
            ],
            tax: 0,
            tipAmount: 0,
            transactionAmount: 0,
            secondaryAmount: 0,
            transactionApiId: 'transaction-payment-abcd123',
            transactionC1: 'custom-data-1',
            transactionC2: 'custom-data-2',
            transactionC3: 'custom-data-3',
            bankFundedOnlyOverride: false,
            allowPartialAuthorizationOverride: false,
            autoDeclineCvvOverride: false,
            autoDeclineStreetOverride: false,
            autoDeclineZipOverride: false,
            ebtType: EbtTypeEnum.FoodStamp,
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            terminalId: '11e95f8ec39de8fbdb0a4f1a',
            accountHolderName: 'smith',
            accountType: 'checking',
            tokenId: '11e95f8ec39de8fbdb0a4f1a',
            achIdentifier: 'P',
            achSecCode: AchSecCode1Enum.C21,
            authAmount: 1,
            authCode: 'BR349K',
            avs: AvsEnum.BAD,
            avsEnhanced: 'N',
            cardholderPresent: true,
            cardPresent: true,
            checkNumber: '8520748520963',
            customerIp: '192.168.0.10',
            cvvResponse: 'N',
            entryModeId: EntryModeIdEnum.C,
            emvReceiptData: {
              aID: 'a0000000042203',
              aPPLAB: 'US Maestro',
              aPPN: 'US Maestro',
              cVM: 'Pin Verified',
              tSI: 'e800',
              tVR: '0800008000',
            },
            firstSix: '545454',
            lastFour: '5454',
            paymentMethod: PaymentMethod9Enum.Cc,
            terminalSerialNumber: '1234567890',
            transactionSettlementStatus: 'transaction_settlement_status0',
            chargeBackDate: '2021-12-01',
            isRecurring: true,
            notificationEmailSent: true,
            par: 'Q1J4Z28RKA1EBL470G9XYG90R5D3E',
            reasonCodeId: ReasonCodeId1Enum.Enum1000,
            recurringId: '11e95f8ec39de8fbdb0a4f1a',
            settleDate: '2021-12-01',
            statusCode: StatusCode17Enum.Enum101,
            transactionBatchId: '11e95f8ec39de8fbdb0a4f1a',
            verbiage: 'APPROVED',
            voidDate: '2021-12-01',
            batch: '2',
            termsAgree: true,
            responseMessage: 'response_message2',
            returnDate: '2021-12-01',
            trxSourceId: TrxSourceIdEnum.Enum8,
            routingNumber: '051904524',
            trxSourceCode: TrxSourceCodeEnum.Enum8,
            paylinkId: '11e95f8ec39de8fbdb0a4f1a',
            isAccountvault: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
            effectiveDate: '2021-12-01',
            isToken: true,
            installmentTotal: 1,
            installmentCounter: 1,
            accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
            hostedPaymentPageId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        activeRecurrings: [
          {
            accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
            tokenId: '11e95f8ec39de8fbdb0a4f1a',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            accountVaultApiId: 'token1234abcd',
            tokenApiId: 'token1234abcd',
            joi: {
              conditions: {
              },
            },
            active: true,
            description: 'Description',
            endDate: '2021-12-01',
            installmentTotalCount: 20,
            interval: 1,
            intervalType: IntervalTypeEnum.D,
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            notificationDays: 2,
            paymentMethod: PaymentMethod1Enum.Cc,
            productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
            recurringId: '11e95f8ec39de8fbdb0a4f1a',
            recurringApiId: 'recurring1234abcd',
            startDate: '2021-12-01',
            status: StatusEnum.Active,
            transactionAmount: 300,
            termsAgree: true,
            termsAgreeIp: '192.168.0.10',
            recurringC1: 'recurring custom data 1',
            recurringC2: 'recurring custom data 2',
            recurringC3: 'recurring custom data 3',
            sendToProcAsRecur: true,
            tags: [
              'Walk-in Customer'
            ],
            secondaryAmount: 100,
            currency: 'USD',
            id: '11e95f8ec39de8fbdb0a4f1a',
            nextRunDate: '2021-12-01',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            recurringTypeId: RecurringTypeIdEnum.I,
            installmentAmountTotal: 99999999,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        isDeletable: true,
        signature: {
          signature: 'iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAOyNaYAAACvklEQVR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRCKR+NxyD4OIXtaXw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsIznFlWerlcpl6GngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4AcE5oCgKzfN8cOvYNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6UTVNo0mS6NfXF+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83Sz2eh6vW4D831fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVbTLcRnMO620ezep1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT647T6aSr1UpFRPf7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5zB8F9wFBQY6JaLBYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3YsqTdNRn69pGs2y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1uic8BsgsvzXEVED4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuvc9TKKz78cE9yio3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8ALcJ/lNsym+DO5/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5tVcMDcERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC',
          resource: ResourceEnum.Transaction,
          resourceId: '11e95f8ec39de8fbdb0a4f1a',
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
        },
        createdUser: {
          accountNumber: '5454545454545454',
          brandingDomainUrl: '{branding_domain_url}',
          cellPhone: '3339998822',
          companyName: 'Fortis Payment Systems, LLC',
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          dateOfBirth: '2021-12-01',
          domainId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          firstName: 'John',
          lastName: 'Smith',
          locale: 'en-US',
          officePhone: '3339998822',
          officeExtPhone: '5',
          primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
          requiresNewPassword: 'requires_new_password2',
          termsConditionCode: '20220308',
          tz: 'America/New_York',
          uiPrefs: {
            entryPage: 'dashboard',
            pageSize: 2,
            reportExportType: ReportExportTypeEnum.Csv,
            processMethod: ProcessMethodEnum.VirtualTerminal,
            defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
          },
          username: '{user_name}',
          userApiKey: '234bas8dfn8238f923w2',
          userHashKey: 'user_hash_key6',
          userTypeCode: UserTypeCodeEnum.Enum100,
          password: 'password4',
          zip: '48375',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          statusCode: StatusCodeEnum.Enum1,
          apiOnly: false,
          isInvitation: false,
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          id: '11e95f8ec39de8fbdb0a4f1a',
          status: true,
          loginAttempts: 0,
          lastLoginTs: 1422040992,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          termsAcceptedTs: 1422040992,
          termsAgreeIp: '192.168.0.10',
          currentDateTime: '2019-03-11T10:38:26-0700',
          currentLogin: 1422040992,
          logApiResponseBodyTs: 1422040992,
        },
        changelogs: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            action: 'CREATE',
            model: 'TransactionRequest',
            modelId: '11ec829598f0d4008be9aba4',
            userId: '11e95f8ec39de8fbdb0a4f1a',
            changelogDetails: [
              {
                id: '11e95f8ec39de8fbdb0a4f1a',
                changelogId: '11e95f8ec39de8fbdb0a4f1a',
                field: 'next_run_ts',
                oldValue: '1643616000',
              }
            ],
            user: {
              id: '11e95f8ec39de8fbdb0a4f1a',
              username: 'email@domain.com',
              firstName: 'Bob',
              lastName: 'Fairview',
            },
          }
        ],
        accountVaultCauLogs: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
            accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        accountVaultCauProductTransactions: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            accountNumber: '5454545454545454',
            address: {
              city: 'Novi',
              state: 'MI',
              postalCode: '48375',
              country: CountryEnum.US,
            },
            brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
            contactEmailTrxReceiptDefault: true,
            defaultAch: '11e608a7d515f1e093242bb2',
            defaultCc: '11e608a442a5f1e092242dda',
            emailReplyTo: 'email@domain.com',
            fax: '3339998822',
            locationApiId: 'location-111111',
            locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
            locationC1: 'custom 1',
            locationC2: 'custom 2',
            locationC3: 'custom data 3',
            name: 'Sample Company Headquarters',
            officePhone: '2481234567',
            officeExtPhone: '1021021209',
            tz: 'America/New_York',
            parentId: '11e95f8ec39de8fbdb0a4f1a',
            showContactNotes: true,
            showContactFiles: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            locationType: LocationTypeEnum.Merchant,
            ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
          }
        ],
      },
    };

    expect(response.result).not.toBeNull();
    expectMatchingWithOptions(
      expected,
      response.result,
      { allowExtra: true, isOrdered: false, checkValues: false }
    );
  });

  it('should Test View single token record', async () => {
    const tokenId = '11e95f8ec39de8fbdb0a4f1a';

    const response = await makeApiCall(
      () => controller.viewSingleTokenRecord(tokenId, undefined, undefined)
    );

    expect(response.statusCode).toBe(200);

    const expectedHeaders = { 'Content-Type': ['application/json', true] };

    expectHeadersToMatch(response.headers, expectedHeaders);

    const expected: ResponseToken = {
      type: Type87Enum.Token,
      data: {
        accountHolderName: 'John Smith',
        accountVaultApiId: 'accountvaultabcd',
        tokenApiId: 'tokenabcd',
        accountvaultC1: 'accountvault custom 1',
        accountvaultC2: 'accountvault custom 2',
        accountvaultC3: 'accountvault custom 3',
        tokenC1: 'token custom 1',
        tokenC2: 'token custom 2',
        tokenC3: 'token custom 3',
        achSecCode: AchSecCode3Enum.WEB,
        billingAddress: {
          postalCode: '48375',
          city: 'Novi',
          state: 'Michigan',
          phone: '3339998822',
          country: 'USA',
        },
        contactId: '11e95f8ec39de8fbdb0a4f1a',
        customerId: '123456',
        identityVerification: {
          dlState: 'MI',
          dlNumber: '1235567',
          ssn4: '8527',
          dobYear: '1980',
        },
        locationId: '11e95f8ec39de8fbdb0a4f1a',
        previousAccountVaultApiId: 'previousaccountvault123456',
        previousTokenApiId: 'previousaccountvault123456',
        previousAccountVaultId: '11e95f8ec39de8fbdb0a4f1a',
        previousTokenId: '11e95f8ec39de8fbdb0a4f1a',
        previousTransactionId: '11e95f8ec39de8fbdb0a4f1a',
        accountNumber: '545454545454545',
        termsAgree: true,
        termsAgreeIp: '192.168.0.10',
        title: 'Test CC Account',
        tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
        secureDirectoryServerTransactionId: 'd65e93c3-35ab-41ba-b307-767bfc19eae',
        secureProtocolVersion: 2,
        secureAuthData: 'vVwL7UNHCf8W8M2LAfvRChNHN7c%3D',
        secureCollectionIndicator: 104,
        threeDsServerTransId: 'd65e93c3-35ab-41ba-b307-767bfc19eae',
        acsTransactionId: '13c701a3-5a88-4c45-89e9-ef65e50a8bf9',
        joi: {
        },
        id: '11e95f8ec39de8fbdb0a4f1a',
        accountType: 'checking',
        active: true,
        cauSummaryStatusId: CauSummaryStatusIdEnum.Enum1,
        createdTs: 1422040992,
        eSerialNumber: '1234567890',
        eTrackData: 'e_track_data8',
        eFormat: 'e_format4',
        eKeyedData: 'e_keyed_data4',
        expiringInMonths: 192,
        expDate: '0722',
        firstSix: '700953',
        hasRecurring: false,
        lastFour: '3657',
        modifiedTs: 1422040992,
        paymentMethod: PaymentMethod16Enum.Cc,
        ticket: 'ticket4',
        trackData: 'track_data2',
        createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        cauLastUpdatedTs: 1422040992,
        routingNumber: '051904524',
        location: {
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          accountNumber: '5454545454545454',
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
          contactEmailTrxReceiptDefault: true,
          defaultAch: '11e608a7d515f1e093242bb2',
          defaultCc: '11e608a442a5f1e092242dda',
          emailReplyTo: 'email@domain.com',
          fax: '3339998822',
          locationApiId: 'location-111111',
          locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
          locationC1: 'custom 1',
          locationC2: 'custom 2',
          locationC3: 'custom data 3',
          name: 'Sample Company Headquarters',
          officePhone: '2481234567',
          officeExtPhone: '1021021209',
          tz: 'America/New_York',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          showContactNotes: true,
          showContactFiles: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          locationType: LocationTypeEnum.Merchant,
          ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
        },
        contact: {
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          accountNumber: '54545433332',
          contactApiId: '137',
          firstName: 'John',
          lastName: 'Smith',
          cellPhone: '3339998822',
          balance: 245.36,
          address: {
            city: 'Novi',
            state: 'Michigan',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          companyName: 'Fortis Payment Systems, LLC',
          headerMessage: 'This is a sample message for you',
          dateOfBirth: '2021-12-01',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          officePhone: '3339998822',
          officePhoneExt: '5',
          headerMessageType: 0,
          updateIfExists: UpdateIfExistsEnum.Enum1,
          contactC1: 'any',
          contactC2: 'anything',
          contactC3: 'something',
          parentId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          active: true,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
        },
        transactions: [
          {
            additionalAmounts: [
              {
                type: Type55Enum.Cashback,
                amount: 10,
                accountType: AccountTypeEnum.Credit,
                currency: 840,
              }
            ],
            billingAddress: {
              city: 'Novi',
              state: 'Michigan',
              postalCode: '48375',
              phone: '3339998822',
              country: 'USA',
            },
            checkinDate: '2021-12-01',
            checkoutDate: '2021-12-01',
            clerkNumber: 'AE1234',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            customData: {  },
            customerId: 'customerid',
            description: 'some description',
            identityVerification: {
              dlState: 'MI',
              dlNumber: '1235567',
              dobYear: '1980',
            },
            iiasInd: IiasIndEnum.Enum1,
            imageFront: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            imageBack: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
            installment: true,
            installmentNumber: 1,
            installmentCount: 1,
            locationApiId: 'location-api-id-florida-2',
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
            advanceDeposit: false,
            noShow: false,
            notificationEmailAddress: 'johnsmith@smiths.com',
            orderNumber: '433659378839',
            poNumber: '555555553123',
            quickInvoiceId: '11e95f8ec39de8fbdb0a4f1a',
            recurring: false,
            recurringNumber: 1,
            roomNum: '303',
            roomRate: 95,
            saveAccount: false,
            saveAccountTitle: 'John Account',
            subtotalAmount: 599,
            surchargeAmount: 100,
            tags: [
              'Walk-in Customer'
            ],
            tax: 0,
            tipAmount: 0,
            transactionAmount: 0,
            secondaryAmount: 0,
            transactionApiId: 'transaction-payment-abcd123',
            transactionC1: 'custom-data-1',
            transactionC2: 'custom-data-2',
            transactionC3: 'custom-data-3',
            bankFundedOnlyOverride: false,
            allowPartialAuthorizationOverride: false,
            autoDeclineCvvOverride: false,
            autoDeclineStreetOverride: false,
            autoDeclineZipOverride: false,
            ebtType: EbtTypeEnum.FoodStamp,
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            terminalId: '11e95f8ec39de8fbdb0a4f1a',
            accountHolderName: 'smith',
            accountType: 'checking',
            tokenId: '11e95f8ec39de8fbdb0a4f1a',
            achIdentifier: 'P',
            achSecCode: AchSecCode1Enum.C21,
            authAmount: 1,
            authCode: 'BR349K',
            avs: AvsEnum.BAD,
            avsEnhanced: 'N',
            cardholderPresent: true,
            cardPresent: true,
            checkNumber: '8520748520963',
            customerIp: '192.168.0.10',
            cvvResponse: 'N',
            entryModeId: EntryModeIdEnum.C,
            emvReceiptData: {
              aID: 'a0000000042203',
              aPPLAB: 'US Maestro',
              aPPN: 'US Maestro',
              cVM: 'Pin Verified',
              tSI: 'e800',
              tVR: '0800008000',
            },
            firstSix: '545454',
            lastFour: '5454',
            paymentMethod: PaymentMethod9Enum.Cc,
            terminalSerialNumber: '1234567890',
            transactionSettlementStatus: 'transaction_settlement_status0',
            chargeBackDate: '2021-12-01',
            isRecurring: true,
            notificationEmailSent: true,
            par: 'Q1J4Z28RKA1EBL470G9XYG90R5D3E',
            reasonCodeId: ReasonCodeId1Enum.Enum1000,
            recurringId: '11e95f8ec39de8fbdb0a4f1a',
            settleDate: '2021-12-01',
            statusCode: StatusCode17Enum.Enum101,
            transactionBatchId: '11e95f8ec39de8fbdb0a4f1a',
            verbiage: 'APPROVED',
            voidDate: '2021-12-01',
            batch: '2',
            termsAgree: true,
            responseMessage: 'response_message2',
            returnDate: '2021-12-01',
            trxSourceId: TrxSourceIdEnum.Enum8,
            routingNumber: '051904524',
            trxSourceCode: TrxSourceCodeEnum.Enum8,
            paylinkId: '11e95f8ec39de8fbdb0a4f1a',
            isAccountvault: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
            effectiveDate: '2021-12-01',
            isToken: true,
            installmentTotal: 1,
            installmentCounter: 1,
            accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
            hostedPaymentPageId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        activeRecurrings: [
          {
            accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
            tokenId: '11e95f8ec39de8fbdb0a4f1a',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            accountVaultApiId: 'token1234abcd',
            tokenApiId: 'token1234abcd',
            joi: {
              conditions: {
              },
            },
            active: true,
            description: 'Description',
            endDate: '2021-12-01',
            installmentTotalCount: 20,
            interval: 1,
            intervalType: IntervalTypeEnum.D,
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            notificationDays: 2,
            paymentMethod: PaymentMethod1Enum.Cc,
            productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
            recurringId: '11e95f8ec39de8fbdb0a4f1a',
            recurringApiId: 'recurring1234abcd',
            startDate: '2021-12-01',
            status: StatusEnum.Active,
            transactionAmount: 300,
            termsAgree: true,
            termsAgreeIp: '192.168.0.10',
            recurringC1: 'recurring custom data 1',
            recurringC2: 'recurring custom data 2',
            recurringC3: 'recurring custom data 3',
            sendToProcAsRecur: true,
            tags: [
              'Walk-in Customer'
            ],
            secondaryAmount: 100,
            currency: 'USD',
            id: '11e95f8ec39de8fbdb0a4f1a',
            nextRunDate: '2021-12-01',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            recurringTypeId: RecurringTypeIdEnum.I,
            installmentAmountTotal: 99999999,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        isDeletable: true,
        signature: {
          signature: 'iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAOyNaYAAACvklEQVR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRCKR+NxyD4OIXtaXw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsIznFlWerlcpl6GngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4AcE5oCgKzfN8cOvYNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6UTVNo0mS6NfXF+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83Sz2eh6vW4D831fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVbTLcRnMO620ezep1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT647T6aSr1UpFRPf7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5zB8F9wFBQY6JaLBYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3YsqTdNRn69pGs2y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1uic8BsgsvzXEVED4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuvc9TKKz78cE9yio3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8ALcJ/lNsym+DO5/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5tVcMDcERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC',
          resource: ResourceEnum.Transaction,
          resourceId: '11e95f8ec39de8fbdb0a4f1a',
          id: '11e95f8ec39de8fbdb0a4f1a',
          createdTs: 1422040992,
          modifiedTs: 1422040992,
        },
        createdUser: {
          accountNumber: '5454545454545454',
          brandingDomainUrl: '{branding_domain_url}',
          cellPhone: '3339998822',
          companyName: 'Fortis Payment Systems, LLC',
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          dateOfBirth: '2021-12-01',
          domainId: '11e95f8ec39de8fbdb0a4f1a',
          email: 'email@domain.com',
          emailTrxReceipt: true,
          homePhone: '3339998822',
          firstName: 'John',
          lastName: 'Smith',
          locale: 'en-US',
          officePhone: '3339998822',
          officeExtPhone: '5',
          primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
          requiresNewPassword: 'requires_new_password2',
          termsConditionCode: '20220308',
          tz: 'America/New_York',
          uiPrefs: {
            entryPage: 'dashboard',
            pageSize: 2,
            reportExportType: ReportExportTypeEnum.Csv,
            processMethod: ProcessMethodEnum.VirtualTerminal,
            defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
          },
          username: '{user_name}',
          userApiKey: '234bas8dfn8238f923w2',
          userHashKey: 'user_hash_key6',
          userTypeCode: UserTypeCodeEnum.Enum100,
          password: 'password4',
          zip: '48375',
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          statusCode: StatusCodeEnum.Enum1,
          apiOnly: false,
          isInvitation: false,
          address: {
            city: 'Novi',
            state: 'MI',
            postalCode: '48375',
            country: CountryEnum.US,
          },
          id: '11e95f8ec39de8fbdb0a4f1a',
          status: true,
          loginAttempts: 0,
          lastLoginTs: 1422040992,
          createdTs: 1422040992,
          modifiedTs: 1422040992,
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          termsAcceptedTs: 1422040992,
          termsAgreeIp: '192.168.0.10',
          currentDateTime: '2019-03-11T10:38:26-0700',
          currentLogin: 1422040992,
          logApiResponseBodyTs: 1422040992,
        },
        changelogs: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            action: 'CREATE',
            model: 'TransactionRequest',
            modelId: '11ec829598f0d4008be9aba4',
            userId: '11e95f8ec39de8fbdb0a4f1a',
            changelogDetails: [
              {
                id: '11e95f8ec39de8fbdb0a4f1a',
                changelogId: '11e95f8ec39de8fbdb0a4f1a',
                field: 'next_run_ts',
                oldValue: '1643616000',
              }
            ],
            user: {
              id: '11e95f8ec39de8fbdb0a4f1a',
              username: 'email@domain.com',
              firstName: 'Bob',
              lastName: 'Fairview',
            },
          }
        ],
        accountVaultCauLogs: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
            accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          }
        ],
        accountVaultCauProductTransactions: [
          {
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            accountNumber: '5454545454545454',
            address: {
              city: 'Novi',
              state: 'MI',
              postalCode: '48375',
              country: CountryEnum.US,
            },
            brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
            contactEmailTrxReceiptDefault: true,
            defaultAch: '11e608a7d515f1e093242bb2',
            defaultCc: '11e608a442a5f1e092242dda',
            emailReplyTo: 'email@domain.com',
            fax: '3339998822',
            locationApiId: 'location-111111',
            locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
            locationC1: 'custom 1',
            locationC2: 'custom 2',
            locationC3: 'custom data 3',
            name: 'Sample Company Headquarters',
            officePhone: '2481234567',
            officeExtPhone: '1021021209',
            tz: 'America/New_York',
            parentId: '11e95f8ec39de8fbdb0a4f1a',
            showContactNotes: true,
            showContactFiles: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            locationType: LocationTypeEnum.Merchant,
            ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
          }
        ],
      },
    };

    expect(response.result).not.toBeNull();
    expectMatchingWithOptions(
      expected,
      response.result,
      { allowExtra: true, isOrdered: false, checkValues: false }
    );
  });

  it('should Test List all tokens related', async () => {
    const response = await makeApiCall(
      () => controller.listAllTokensRelated(
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined,
        undefined
      )
    );

    expect(response.statusCode).toBe(200);

    const expectedHeaders = { 'Content-Type': ['application/json', true] };

    expectHeadersToMatch(response.headers, expectedHeaders);

    const expected: ResponseTokensCollection = {
      type: Type89Enum.TokensCollection,
      list: [
        {
          accountHolderName: 'John Smith',
          accountVaultApiId: 'accountvaultabcd',
          tokenApiId: 'tokenabcd',
          accountvaultC1: 'accountvault custom 1',
          accountvaultC2: 'accountvault custom 2',
          accountvaultC3: 'accountvault custom 3',
          tokenC1: 'token custom 1',
          tokenC2: 'token custom 2',
          tokenC3: 'token custom 3',
          achSecCode: AchSecCode3Enum.WEB,
          billingAddress: {
            postalCode: '48375',
            city: 'Novi',
            state: 'Michigan',
            phone: '3339998822',
            country: 'USA',
          },
          contactId: '11e95f8ec39de8fbdb0a4f1a',
          customerId: '123456',
          identityVerification: {
            dlState: 'MI',
            dlNumber: '1235567',
            ssn4: '8527',
            dobYear: '1980',
          },
          locationId: '11e95f8ec39de8fbdb0a4f1a',
          previousAccountVaultApiId: 'previousaccountvault123456',
          previousTokenApiId: 'previousaccountvault123456',
          previousAccountVaultId: '11e95f8ec39de8fbdb0a4f1a',
          previousTokenId: '11e95f8ec39de8fbdb0a4f1a',
          previousTransactionId: '11e95f8ec39de8fbdb0a4f1a',
          accountNumber: '545454545454545',
          termsAgree: true,
          termsAgreeIp: '192.168.0.10',
          title: 'Test CC Account',
          tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
          secureDirectoryServerTransactionId: 'd65e93c3-35ab-41ba-b307-767bfc19eae',
          secureProtocolVersion: 2,
          secureAuthData: 'vVwL7UNHCf8W8M2LAfvRChNHN7c%3D',
          secureCollectionIndicator: 104,
          threeDsServerTransId: 'd65e93c3-35ab-41ba-b307-767bfc19eae',
          acsTransactionId: '13c701a3-5a88-4c45-89e9-ef65e50a8bf9',
          joi: {
          },
          id: '11e95f8ec39de8fbdb0a4f1a',
          accountType: 'checking',
          active: true,
          cauSummaryStatusId: CauSummaryStatusIdEnum.Enum1,
          createdTs: 1422040992,
          eSerialNumber: '1234567890',
          eTrackData: 'e_track_data8',
          eFormat: 'e_format4',
          eKeyedData: 'e_keyed_data4',
          expiringInMonths: 192,
          expDate: '0722',
          firstSix: '700953',
          hasRecurring: false,
          lastFour: '3657',
          modifiedTs: 1422040992,
          paymentMethod: PaymentMethod16Enum.Cc,
          ticket: 'ticket4',
          trackData: 'track_data2',
          createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          cauLastUpdatedTs: 1422040992,
          routingNumber: '051904524',
          location: {
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            accountNumber: '5454545454545454',
            address: {
              city: 'Novi',
              state: 'MI',
              postalCode: '48375',
              country: CountryEnum.US,
            },
            brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
            contactEmailTrxReceiptDefault: true,
            defaultAch: '11e608a7d515f1e093242bb2',
            defaultCc: '11e608a442a5f1e092242dda',
            emailReplyTo: 'email@domain.com',
            fax: '3339998822',
            locationApiId: 'location-111111',
            locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
            locationC1: 'custom 1',
            locationC2: 'custom 2',
            locationC3: 'custom data 3',
            name: 'Sample Company Headquarters',
            officePhone: '2481234567',
            officeExtPhone: '1021021209',
            tz: 'America/New_York',
            parentId: '11e95f8ec39de8fbdb0a4f1a',
            showContactNotes: true,
            showContactFiles: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            locationType: LocationTypeEnum.Merchant,
            ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
          },
          contact: {
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            accountNumber: '54545433332',
            contactApiId: '137',
            firstName: 'John',
            lastName: 'Smith',
            cellPhone: '3339998822',
            balance: 245.36,
            address: {
              city: 'Novi',
              state: 'Michigan',
              postalCode: '48375',
              country: CountryEnum.US,
            },
            companyName: 'Fortis Payment Systems, LLC',
            headerMessage: 'This is a sample message for you',
            dateOfBirth: '2021-12-01',
            emailTrxReceipt: true,
            homePhone: '3339998822',
            officePhone: '3339998822',
            officePhoneExt: '5',
            headerMessageType: 0,
            updateIfExists: UpdateIfExistsEnum.Enum1,
            contactC1: 'any',
            contactC2: 'anything',
            contactC3: 'something',
            parentId: '11e95f8ec39de8fbdb0a4f1a',
            email: 'email@domain.com',
            tokenImportId: '11e95f8ec39de8fbdb0a4f1a',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            active: true,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
          },
          transactions: [
            {
              additionalAmounts: [
                {
                  type: Type55Enum.Cashback,
                  amount: 10,
                  accountType: AccountTypeEnum.Credit,
                  currency: 840,
                }
              ],
              billingAddress: {
                city: 'Novi',
                state: 'Michigan',
                postalCode: '48375',
                phone: '3339998822',
                country: 'USA',
              },
              checkinDate: '2021-12-01',
              checkoutDate: '2021-12-01',
              clerkNumber: 'AE1234',
              contactId: '11e95f8ec39de8fbdb0a4f1a',
              customData: {  },
              customerId: 'customerid',
              description: 'some description',
              identityVerification: {
                dlState: 'MI',
                dlNumber: '1235567',
                dobYear: '1980',
              },
              iiasInd: IiasIndEnum.Enum1,
              imageFront: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
              imageBack: 'U29tZVN0cmluZ09idmlvdXNseU5vdEJhc2U2NEVuY29kZWQ=',
              installment: true,
              installmentNumber: 1,
              installmentCount: 1,
              locationApiId: 'location-api-id-florida-2',
              locationId: '11e95f8ec39de8fbdb0a4f1a',
              productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
              advanceDeposit: false,
              noShow: false,
              notificationEmailAddress: 'johnsmith@smiths.com',
              orderNumber: '433659378839',
              poNumber: '555555553123',
              quickInvoiceId: '11e95f8ec39de8fbdb0a4f1a',
              recurring: false,
              recurringNumber: 1,
              roomNum: '303',
              roomRate: 95,
              saveAccount: false,
              saveAccountTitle: 'John Account',
              subtotalAmount: 599,
              surchargeAmount: 100,
              tags: [
                'Walk-in Customer'
              ],
              tax: 0,
              tipAmount: 0,
              transactionAmount: 0,
              secondaryAmount: 0,
              transactionApiId: 'transaction-payment-abcd123',
              transactionC1: 'custom-data-1',
              transactionC2: 'custom-data-2',
              transactionC3: 'custom-data-3',
              bankFundedOnlyOverride: false,
              allowPartialAuthorizationOverride: false,
              autoDeclineCvvOverride: false,
              autoDeclineStreetOverride: false,
              autoDeclineZipOverride: false,
              ebtType: EbtTypeEnum.FoodStamp,
              id: '11e95f8ec39de8fbdb0a4f1a',
              createdTs: 1422040992,
              modifiedTs: 1422040992,
              terminalId: '11e95f8ec39de8fbdb0a4f1a',
              accountHolderName: 'smith',
              accountType: 'checking',
              tokenId: '11e95f8ec39de8fbdb0a4f1a',
              achIdentifier: 'P',
              achSecCode: AchSecCode1Enum.C21,
              authAmount: 1,
              authCode: 'BR349K',
              avs: AvsEnum.BAD,
              avsEnhanced: 'N',
              cardholderPresent: true,
              cardPresent: true,
              checkNumber: '8520748520963',
              customerIp: '192.168.0.10',
              cvvResponse: 'N',
              entryModeId: EntryModeIdEnum.C,
              emvReceiptData: {
                aID: 'a0000000042203',
                aPPLAB: 'US Maestro',
                aPPN: 'US Maestro',
                cVM: 'Pin Verified',
                tSI: 'e800',
                tVR: '0800008000',
              },
              firstSix: '545454',
              lastFour: '5454',
              paymentMethod: PaymentMethod9Enum.Cc,
              terminalSerialNumber: '1234567890',
              transactionSettlementStatus: 'transaction_settlement_status0',
              chargeBackDate: '2021-12-01',
              isRecurring: true,
              notificationEmailSent: true,
              par: 'Q1J4Z28RKA1EBL470G9XYG90R5D3E',
              reasonCodeId: ReasonCodeId1Enum.Enum1000,
              recurringId: '11e95f8ec39de8fbdb0a4f1a',
              settleDate: '2021-12-01',
              statusCode: StatusCode17Enum.Enum101,
              transactionBatchId: '11e95f8ec39de8fbdb0a4f1a',
              verbiage: 'APPROVED',
              voidDate: '2021-12-01',
              batch: '2',
              termsAgree: true,
              responseMessage: 'response_message2',
              returnDate: '2021-12-01',
              trxSourceId: TrxSourceIdEnum.Enum8,
              routingNumber: '051904524',
              trxSourceCode: TrxSourceCodeEnum.Enum8,
              paylinkId: '11e95f8ec39de8fbdb0a4f1a',
              isAccountvault: true,
              createdUserId: '11e95f8ec39de8fbdb0a4f1a',
              modifiedUserId: '11e95f8ec39de8fbdb0a4f1a',
              effectiveDate: '2021-12-01',
              isToken: true,
              installmentTotal: 1,
              installmentCounter: 1,
              accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
              hostedPaymentPageId: '11e95f8ec39de8fbdb0a4f1a',
            }
          ],
          activeRecurrings: [
            {
              accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
              tokenId: '11e95f8ec39de8fbdb0a4f1a',
              contactId: '11e95f8ec39de8fbdb0a4f1a',
              accountVaultApiId: 'token1234abcd',
              tokenApiId: 'token1234abcd',
              joi: {
                conditions: {
                },
              },
              active: true,
              description: 'Description',
              endDate: '2021-12-01',
              installmentTotalCount: 20,
              interval: 1,
              intervalType: IntervalTypeEnum.D,
              locationId: '11e95f8ec39de8fbdb0a4f1a',
              notificationDays: 2,
              paymentMethod: PaymentMethod1Enum.Cc,
              productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
              recurringId: '11e95f8ec39de8fbdb0a4f1a',
              recurringApiId: 'recurring1234abcd',
              startDate: '2021-12-01',
              status: StatusEnum.Active,
              transactionAmount: 300,
              termsAgree: true,
              termsAgreeIp: '192.168.0.10',
              recurringC1: 'recurring custom data 1',
              recurringC2: 'recurring custom data 2',
              recurringC3: 'recurring custom data 3',
              sendToProcAsRecur: true,
              tags: [
                'Walk-in Customer'
              ],
              secondaryAmount: 100,
              currency: 'USD',
              id: '11e95f8ec39de8fbdb0a4f1a',
              nextRunDate: '2021-12-01',
              createdTs: 1422040992,
              modifiedTs: 1422040992,
              recurringTypeId: RecurringTypeIdEnum.I,
              installmentAmountTotal: 99999999,
              createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            }
          ],
          isDeletable: true,
          signature: {
            signature: 'iVBORw0KGgoAAAANSUhEUgAAANwAAAAsCAYAAAAOyNaYAAACvklEQVR4nO3bLZOqUBjA8ScaNxqNRiKRaCQaiXwEG7cRiUajH8FINBqJRCKR+NxyD4OIXtaXw2H3/5s5MwZ39rgz/zkvuKKqgar+YTAYnx/y7wUACwgOsIjgAIsIznFlWerlcpl6GngTgnNYVVW6WCxURDTLsqmngzcgOMdtNhsVERURDYJA8zyfekp4AcE5oCgKzfN8cOvYNM1VdCKiURRNMEu8A8FNrCzLm5j68Q1Fx2o3TwTngCzLNAiCq6D6UTVNo0mS6NfXF+HNGME5or+KeZ7XxrVcLjWOY83zXOu6vnqfeQ/bzHkgOIf0VzHP83Sz2eh6vW4D831fy7JsowvDsH1NdO4jOAfVdX0VXhRFWhSFRlHUrmr7/b4NLU3T9jVbTLcRnMO620ezep1Op3bF832/3XIORQr3EJzjumc7E9HQBUoYhjdnPKJzD8E5xjyT647T6aSr1UpFRPf7ffveuq41TdOHZzyicwvBTeBeVGEY3jwaGBrmWV3/Z82K1z/jca5zB8F9wFBQY6JaLBYax7EmSXJ3DD2v624rzUpoVrsgCDjXOWRWwVVVNfUUrvTDGrNK3YsqTdNRn69pGs2y7NshssV0w2yCK4pCRUSPx+Okc/hfWI9WqbFRPaMbYjc+s7ptt1uic8BsgsvzXEVED4fDR3/P2PPVUFifDOo7THxmPiY03/fZXk7s1wR371z1zPnKlbDGuvc9TKKz78cE9yio3W436vbv1fOV6/oPx010/Ee5PbMLbrfbPRWU53kPb/9+SlRj9L8ALcJ/lNsym+DO5/PTQaVpqnVdT/0RnGLOed0LlikvpH6L2QSnqoPX4QT1mu4FC3/Dz5tVcMDcERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGARwQEWERxgEcEBFhEcYBHBARYRHGDRX+EC0ah++pNrAAAAAElFTkSuQmCC',
            resource: ResourceEnum.Transaction,
            resourceId: '11e95f8ec39de8fbdb0a4f1a',
            id: '11e95f8ec39de8fbdb0a4f1a',
            createdTs: 1422040992,
            modifiedTs: 1422040992,
          },
          createdUser: {
            accountNumber: '5454545454545454',
            brandingDomainUrl: '{branding_domain_url}',
            cellPhone: '3339998822',
            companyName: 'Fortis Payment Systems, LLC',
            contactId: '11e95f8ec39de8fbdb0a4f1a',
            dateOfBirth: '2021-12-01',
            domainId: '11e95f8ec39de8fbdb0a4f1a',
            email: 'email@domain.com',
            emailTrxReceipt: true,
            homePhone: '3339998822',
            firstName: 'John',
            lastName: 'Smith',
            locale: 'en-US',
            officePhone: '3339998822',
            officeExtPhone: '5',
            primaryLocationId: '11e95f8ec39de8fbdb0a4f1a',
            requiresNewPassword: 'requires_new_password2',
            termsConditionCode: '20220308',
            tz: 'America/New_York',
            uiPrefs: {
              entryPage: 'dashboard',
              pageSize: 2,
              reportExportType: ReportExportTypeEnum.Csv,
              processMethod: ProcessMethodEnum.VirtualTerminal,
              defaultTerminal: '11e95f8ec39de8fbdb0a4f1a',
            },
            username: '{user_name}',
            userApiKey: '234bas8dfn8238f923w2',
            userHashKey: 'user_hash_key6',
            userTypeCode: UserTypeCodeEnum.Enum100,
            password: 'password4',
            zip: '48375',
            locationId: '11e95f8ec39de8fbdb0a4f1a',
            statusCode: StatusCodeEnum.Enum1,
            apiOnly: false,
            isInvitation: false,
            address: {
              city: 'Novi',
              state: 'MI',
              postalCode: '48375',
              country: CountryEnum.US,
            },
            id: '11e95f8ec39de8fbdb0a4f1a',
            status: true,
            loginAttempts: 0,
            lastLoginTs: 1422040992,
            createdTs: 1422040992,
            modifiedTs: 1422040992,
            createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            termsAcceptedTs: 1422040992,
            termsAgreeIp: '192.168.0.10',
            currentDateTime: '2019-03-11T10:38:26-0700',
            currentLogin: 1422040992,
            logApiResponseBodyTs: 1422040992,
          },
          changelogs: [
            {
              id: '11e95f8ec39de8fbdb0a4f1a',
              createdTs: 1422040992,
              action: 'CREATE',
              model: 'TransactionRequest',
              modelId: '11ec829598f0d4008be9aba4',
              userId: '11e95f8ec39de8fbdb0a4f1a',
              changelogDetails: [
                {
                  id: '11e95f8ec39de8fbdb0a4f1a',
                  changelogId: '11e95f8ec39de8fbdb0a4f1a',
                  field: 'next_run_ts',
                  oldValue: '1643616000',
                }
              ],
              user: {
                id: '11e95f8ec39de8fbdb0a4f1a',
                username: 'email@domain.com',
                firstName: 'Bob',
                lastName: 'Fairview',
              },
            }
          ],
          accountVaultCauLogs: [
            {
              id: '11e95f8ec39de8fbdb0a4f1a',
              productTransactionId: '11e95f8ec39de8fbdb0a4f1a',
              accountVaultId: '11e95f8ec39de8fbdb0a4f1a',
              createdTs: 1422040992,
              createdUserId: '11e95f8ec39de8fbdb0a4f1a',
            }
          ],
          accountVaultCauProductTransactions: [
            {
              id: '11e95f8ec39de8fbdb0a4f1a',
              createdTs: 1422040992,
              modifiedTs: 1422040992,
              accountNumber: '5454545454545454',
              address: {
                city: 'Novi',
                state: 'MI',
                postalCode: '48375',
                country: CountryEnum.US,
              },
              brandingDomainId: '11e95f8ec39de8fbdb0a4f1a',
              contactEmailTrxReceiptDefault: true,
              defaultAch: '11e608a7d515f1e093242bb2',
              defaultCc: '11e608a442a5f1e092242dda',
              emailReplyTo: 'email@domain.com',
              fax: '3339998822',
              locationApiId: 'location-111111',
              locationApiKey: 'AE34BBCAADF4AE34BBCAADF4',
              locationC1: 'custom 1',
              locationC2: 'custom 2',
              locationC3: 'custom data 3',
              name: 'Sample Company Headquarters',
              officePhone: '2481234567',
              officeExtPhone: '1021021209',
              tz: 'America/New_York',
              parentId: '11e95f8ec39de8fbdb0a4f1a',
              showContactNotes: true,
              showContactFiles: true,
              createdUserId: '11e95f8ec39de8fbdb0a4f1a',
              locationType: LocationTypeEnum.Merchant,
              ticketHashKey: 'A5F443CADF4AE34BBCAADF4',
            }
          ],
        }
      ],
      links: {
        type: Type2Enum.Links,
        first: '/v1/endpoint?page[size]=10&page[number]=1',
        previous: '/v1/endpoint?page[size]=10&page[number]=5',
        next: '/v1/endpoint?page[size]=10&page[number]=7',
        last: '/v1/endpoint?page[size]=10&page[number]=42',
      },
      pagination: {
        type: Type3Enum.Pagination,
        totalCount: 423,
        pageCount: 42,
        pageNumber: 6,
        pageSize: 10,
      },
      sort: {
        type: Type4Enum.Sorting,
        fields: [
          {
            field: 'last_name',
            order: OrderEnum.Asc,
          }
        ],
      },
    };

    expect(response.result).not.toBeNull();
    expectMatchingWithOptions(
      expected,
      response.result,
      { allowExtra: true, isOrdered: false, checkValues: false }
    );
  });
});
